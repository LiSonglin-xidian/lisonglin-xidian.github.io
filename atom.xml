<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://lisonglin-xidian.github.io</id>
    <title>æƒ³ä¸æƒ³è¯¥ä¸è¯¥</title>
    <updated>2023-11-10T07:30:03.442Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://lisonglin-xidian.github.io"/>
    <link rel="self" href="https://lisonglin-xidian.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://lisonglin-xidian.github.io/images/avatar.png</logo>
    <icon>https://lisonglin-xidian.github.io/favicon.ico</icon>
    <rights>All rights reserved 2023, æƒ³ä¸æƒ³è¯¥ä¸è¯¥</rights>
    <entry>
        <title type="html"><![CDATA[SIESTA æ•™ç¨‹-Nerdalytics]]></title>
        <id>https://lisonglin-xidian.github.io/post/siesta-jiao-cheng-nerdalytics/</id>
        <link href="https://lisonglin-xidian.github.io/post/siesta-jiao-cheng-nerdalytics/">
        </link>
        <updated>2023-05-16T02:21:17.000Z</updated>
        <summary type="html"><![CDATA[<p>Youtube Siestaå­¦ä¹ ç¬”è®°</p>
]]></summary>
        <content type="html"><![CDATA[<p>Youtube Siestaå­¦ä¹ ç¬”è®°</p>
<!-- more -->
<h1 id="electrode-ç”µæè®¡ç®—">electrode-ç”µæè®¡ç®—</h1>
<p><code>SolutionMethod diagon</code><br>
SolutionMethod    è®¡ç®—æ–¹æ³•<br>
diagon å¿…é¡»åœ¨ç”µæè®¡ç®—ä¸­ä½¿ç”¨</p>
<pre><code>SystemName Bi electrode
SystemLabel elec_bi
</code></pre>
<p>SystemNameå’ŒSystemLabelé¦–é€‰ä½¿ç”¨ä¸‹åˆ’çº¿è€Œä¸æ˜¯ç ´æŠ˜å·</p>
<pre><code># Number of species
NumberOfSpecies 1
%block ChemicalSpeciesLabel
  1  83 Bi
%endblock ChemicalSpeciesLabel
</code></pre>
<p>NumberOfSpecies æœ‰å¤šå°‘ä¸ªå…ƒç´ <br>
ChemicalSpeciesLabel ç¬¬ä¸€ä¸ªæ˜¯å…ƒç´ ç¼–å·ï¼Œç¬¬äºŒä¸ªæ˜¯åŸå­åºæ•°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å…ƒç´ ç¬¦å·<br>
XCäº¤æ¢å…³è”æ³›å‡½ç›¸å…³å‚æ•°:</p>
<pre><code>PAO.BasisSize    DZP
PAO.EnergyShift  0.005 Ry
XC.functional   GGA
XC.authors      PBE
</code></pre>
<p>BasisSize åŸºç»„è®¾ç½®ï¼Œè¿™é‡Œæ˜¯DZPåŸºç»„ï¼ŒSIESTAå…¸å‹<br>
EnergyShiftæ˜¯æˆªæ­¢åŠå¾„æ ‡å‡†<br>
æ³›å‡½ä¸ºGGA-PBE<br>
K-pointsï¼šè®¡ç®—æ—¶é—´ç­‰<br>
åŸå­æ•°ï¼Œæ™¶æ ¼çŸ¢é‡ï¼Œæ™¶æ ¼åæ ‡ä¿¡æ¯<br>
<code>MD.NumCGsteps</code>ç¦»å­æ­¥ï¼Œå¦‚æœå·²ç»å®Œæˆç¦»å­æ­¥ä¼˜åŒ–ï¼Œåœ¨ç”µæè®¡ç®—ä¸­è®¾ç½®ä¸º0<br>
SCF-ç”µå­æ­¥è®¾ç½®å‚æ•°<br>
MD-ç¦»å­æ­¥è®¾ç½®å‚æ•°<br>
Output å˜é‡è®¾ç½®è¾“å‡ºä¿¡æ¯<br>
ç”µæè®¡ç®—å¿…é¡»åœ¨å…¶ä»–é€‰é¡¹ä¸­æ‰“å¼€TS.HS.Saveã€‚<br>
èµåŠ¿é€‰æ‹©å¯ä»¥ä½¿ç”¨ç¦»å­æ–‡ä»¶ï¼ˆ.ionï¼‰éœ€è¦æ·»åŠ å‚æ•°<code>User.Basis .true.</code>å¦‚æœä½¿ç”¨psfæˆ–è€…psmlæ–‡ä»¶éœ€è¦å°†è¿™é‡Œè®¾ç½®ä¸º<code>.false.</code>ã€‚</p>
<h1 id="scanttering-æ•£å°„åŒºåŸŸè®¡ç®—">Scanttering-æ•£å°„åŒºåŸŸè®¡ç®—</h1>
<p>æ±‚è§£æ–¹æ³•<br>
<code>SolutionMethod diagon</code><br>
SolutionMethod    è®¡ç®—æ–¹æ³•<br>
Transiesta ç¬æ€æ±‚è§£æ–¹æ³•ï¼Œå·²ç»é›†æˆåœ¨siestaä¸­ã€‚<br>
ç³»ç»Ÿåç§°ä»¥åŠç³»ç»Ÿæ ‡ç­¾<br>
ææ–™ç‰©ç§ï¼Œ<br>
åŸºç»„ä»¥åŠäº¤æ¢å…³è”æ³›å‡½ç›¸åŒ<br>
K-pointsåœ¨æ•£å°„è®¡ç®—ä¸­å’Œç”µæè®¡ç®—ç›¸åŒã€‚<br>
ç»“æ„ä¿¡æ¯é€šè¿‡é‡å¤6æ¬¡å¾—åˆ°æ–°çš„ç»“æ„è¾“å‡ºä¸ºxyzæ ¼å¼æ‹·è´è¿‡æ¥ã€‚<br>
ä¸‹é¢ä¿¡æ¯ç›¸ä¼¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ·»åŠ transiestaæ•£å°„åŒºåŸŸè®¡ç®—ä»£ç ã€‚ä»0ç”µä½è®¡ç®—å¼€å§‹ï¼Œåˆ°å·¦å³ç”µæå®šä¹‰ï¼Œè¿™é‡Œåˆ°TS.ChemPot.Rightç»“æŸã€‚<br>
å¿…é¡»ä»ç”µæè®¡ç®—ç»“æœä¸­å¤åˆ¶TSHSæ ¼å¼çš„æ–‡ä»¶ã€‚<br>
used atomesä¸éœ€è¦æ·»åŠ ï¼Œæœ‰éƒ¨åˆ†æ•™ç¨‹ä¸­æ·»åŠ è¯¥å‚æ•°ã€‚<br>
å…¶ä»–é€‰é¡¹æ˜¯é»˜è®¤çš„ï¼Œè¿™é‡Œè¿˜é€šè¿‡TBT.DOS.A.ALLè®¡ç®—äº†æ€å¯†åº¦ã€‚<br>
TS.SolutionMethod è®¡ç®—æ–¹æ³•æ˜¯btd<br>
TS.BTD.Pivot<br>
è¿›è¡Œæ•£å°„è®¡ç®—å‰æ¨èå…ˆè¿è¡Œanalyze<br>
<code>siesta -fdf TS.Analyze RUN.fdf &gt; analyze.out</code><br>
mpirun -np 16 transiesta &lt;scat.fdf&gt; Trans.out<br>
tbtrans &lt;scat.fdf&gt; TBT.out</p>
<h1 id="siesta-æ”¶æ•›æ€§æµ‹è¯•">SIESTA æ”¶æ•›æ€§æµ‹è¯•ï¼š</h1>
<p>è®¡ç®—ç»“æœçš„ç²¾ç¡®æ€§<br>
æˆªæ–­èƒ½ï¼ŒK-pointsï¼Œç£å„é¡¹å¼‚æ€§ï¼Œè¶…èƒå¤§å°æµ‹è¯•<br>
åˆ†å­åŠ¨åŠ›å­¦ï¼Œä½¿ç”¨å…±è½­æ¢¯åº¦æ–¹å¼å¾—åˆ°æœ€å°åŒ–èƒ½é‡ã€‚<br>
ä¸åŒKç‚¹ç½‘æ ¼åˆ’åˆ†ï¼ŒMP meshä¸‹å¾—åˆ°æ™¶æ ¼å¸¸æ•°å’Œè‡ªç”±èƒ½ï¼ˆFree Energyï¼‰ã€‚<br>
æåŒ–åˆ†å­åœ¨ä¸åŒæ™¶èƒå°ºå¯¸ï¼ˆlattice constantï¼‰ä¸‹çš„electric dipoleçš„æ”¶æ•›æƒ…å†µ</p>
<h1 id="ç»“æ„ä¼˜åŒ–">ç»“æ„ä¼˜åŒ–</h1>
<p>å…±è½­æ¢¯åº¦æ³•ï¼šæ”¶æ•›å¿«ï¼Œå†…å­˜å°ï¼›ä½†æ˜¯è®¡ç®—å¤æ‚ï¼Œå®¹æ˜“å¾—åˆ°å±€åŸŸæœ€ä½ç‚¹ï¼Œä¸æ˜¯å…¨å±€æœ€ä¼˜ç‚¹ã€‚<br>
åˆ†å­åŠ¨åŠ›å­¦å¾—åˆ°çƒ­ç¨³å®šæ€§ã€‚è®¡ç®—å£°å­ç­‰<br>
åˆ†å­åŠ¨åŠ›å­¦é‡‡ç”¨ä¼¯æ©å¥¥æœ¬æµ·é»˜è¿‘ä¼¼å¾—åˆ°ã€‚<br>
åˆ†æ€èƒ½å¸¦å›¾ï¼Œèƒ½å¸¦ï¼Œ<br>
** Basis set In siesta ğŸ˜—*<br>
<strong>SZ</strong>- single zeta is a minimal basis set for quick simulation but not accurate enough<br>
<strong>DZ</strong> - Double zeta, considers the radial flexibility of an atomic orbitals, is more accurate<br>
<strong>DZP</strong>- considers the angular flexibility of an atomic orbitals P stands for polarization (electron spin effect)<br>
<strong>Choosing DZP is accurate enough for any simulation</strong><br>
Larger mesh-cutoff â¡ï¸  Smaller spacing â¡ï¸  more dense 3D mesh â¡ï¸  more accurate simulation â¡ï¸  but longer computational time.<br>
<img src="https://lisonglin-xidian.github.io/post-images/1684571741313.jpg" alt="" loading="lazy"></p>
<ol>
<li>optimization of XC and basis sets<br>
LDA and GGA for XCï¼ŒSZï¼ŒDZï¼Œand DZP for basisã€‚DZP is found accurate enough for any simulation<br>
å¦‚ä½•ä½¿ç”¨siestaä¼˜åŒ–ã€‚<br>
åœ¨ç ”ç©¶ææ–™æˆ–è€…çº³ç±³ææ–™çš„ä¸åŒç‰¹æ€§ä¹‹å‰éœ€è¦ä¼˜åŒ–æ‰€æœ‰ç³»ç»Ÿã€‚<br>
ä»¥ç¢˜åŒ–é“¶ä¸ºä¾‹ï¼Œåˆ†åˆ«ä¼˜åŒ–mesh-cutoffï¼ŒKPOINTSï¼Œlatt_optï¼Œtot_optã€‚<br>
ç¬¬ä¸€æ­¥ï¼šä¼˜åŒ–mesh-cutoff<br>
<code>sh script_cutoff.sh</code><br>
åˆ›å»ºåä¸ªæ–‡ä»¶å¤¹<br>
<code>sh get_EvsC_script.sh</code><br>
ç”ŸæˆEvsC.datæ–‡ä»¶å¹¶æ˜¾ç¤ºç»˜å›¾ï¼Œå¯»æ‰¾æœ€ä½³ç½‘æ ¼æˆªæ­¢èƒ½é‡ï¼šmesh-cutoff<br>
ç¬¬äºŒæ­¥ï¼škpoint ä¼˜åŒ–<br>
å°†kpoint_script.shä¸­çš„MeshCutoffå€¼ä¿®æ”¹ä¸ºä¸Šä¸€æ­¥çš„ç»“æœï¼Œ<br>
è¿è¡Œ<code>sh kpoint_script.sh</code>åå¾—åˆ°ä¸åŒæ–‡ä»¶å¤¹ä¸‹ä¸åŒKå€¼çš„siestaç»“æœ<br>
è¿è¡Œ<code>sh get_EvsK_script.sh</code><br>
åˆ›å»ºEvsK.datæ–‡ä»¶å¹¶æ˜¾ç¤ºç»˜å›¾ï¼Œå¯»æ‰¾æœ€ä½³Kç‚¹ ï¼ˆèƒ½é‡æœ€ä½å€¼ï¼‰<br>
ç¬¬ä¸‰æ­¥ï¼šæ™¶æ ¼å¸¸æ•°ä¼˜åŒ–<br>
æ›¿æ¢è„šæœ¬ä¸­çš„MeshCutoffä»¥åŠKç‚¹<br>
è¿è¡Œ<code>sh la_opt_script.sh</code>å°†ä¼šåœ¨ä¸åŒæ–‡ä»¶å¤¹è¿è¡Œsiesta<br>
è¿è¡Œ<code>sh get_Evsa_script.sh</code> å¾—åˆ°Evsa.datæ–‡ä»¶å¹¶ç»˜å›¾ï¼Œå¯»æ‰¾æœ€ä½³æ™¶æ ¼å¸¸æ•°ï¼ˆèƒ½é‡æœ€ä½å€¼ï¼‰<br>
ç¬¬å››æ­¥ï¼šæ€»èƒ½ä¼˜åŒ–<br>
æ›¿æ¢è„šæœ¬ä¸­çš„æˆªæ­¢èƒ½ï¼ŒKç‚¹ï¼Œæ™¶æ ¼å¸¸æ•°ç„¶åè¿è¡Œè„šæœ¬<br>
<code>sh script_final_opt.sh</code></li>
</ol>
<h1 id="mpiè¿è¡Œç¤ºä¾‹">mpiè¿è¡Œç¤ºä¾‹</h1>
<p><code>mpirun -np 16 siesta Bi.fdf &gt; Bi.out</code><br>
<code>mpirun -np 16 siesta --electrode electrode.fdf &gt; electrode.out</code><br>
ä½œä¸šè„šæœ¬åˆ é™¤æ— ç”¨è¾“å‡ºæ–‡ä»¶</p>
<h1 id="dos">DOS</h1>
<p>ä½¿ç”¨Utilsä¸‹çš„Eig2DOSç»˜åˆ¶DOS<br>
Eig2DOS -f -s 0.100 -n 1000 -e -30 -E 20 Li2FeP2O7-tri.EIG&gt;dos.dat<br>
å±•å®½è¶Šå°ï¼Œè®¡ç®—ç²¾åº¦è¶Šé«˜ï¼ŒDOSå›¾å°±å°–é”ç˜¦é•¿ä¸€äº›ï¼Œä½†æ˜¯æ”¶æ•›çš„æ—¶é—´è¦é•¿ä¸€äº›ã€‚</p>
<p>å½“ä½“ç³»çš„ç”µå­ç»“æ„åœ¨Fermi èƒ½çº§é™„è¿‘å‡ºç°å¤šä¸ªç®€å¹¶èƒ½çº§æ—¶ï¼Œä½“ç³»çš„è‡ªæ´½è¿‡ç¨‹ä¼šç›¸å½“æ…¢ï¼Œç”šè‡³ä¸èƒ½æ”¶æ•›ã€‚è¿™æ˜¯ç”±äºèƒ½çº§ç®€å¹¶ï¼Œæˆ–èƒ½çº§ä¹‹é—´ç›¸å·®ä¸å¤§ï¼Œå¯¼è‡´ç”µå­â€œä¸çŸ¥é“â€åº”è¯¥åœ¨å“ªé‡Œåˆ†å¸ƒï¼Œä»è€Œä¸æ–­åœ°åœ¨å‡ ä¸ªèƒ½çº§ä¹‹é—´â€œè·³æ¥è·³å»â€ï¼Œä½†æ— è®ºç”µå­åˆ†å¸ƒåœ¨å“ªä¸ªå‰çº¿èƒ½çº§ä¸Šæ•´ä¸ªä½“ç³»éƒ½ä¸èƒ½è‡ªæ´½ã€‚<br>
æ‰€è°“æ‹–å°¾ï¼Œæ˜¯æŒ‡åœ¨å‰çº¿è½¨é“ä¸Šï¼Œç”µå­å¯ä»¥ä»¥åˆ†æ•°åˆ†å¸ƒï¼Œè€Œä¸å†è¦æ±‚ä¸€å®šè¦ä»¥æ•´æ•°åˆ†å¸ƒï¼Œä»è€Œä½¿ç”µå­å¯ä»¥ä¸€åˆ†ä¸ºå¤šåœ°åˆ†å¸ƒåœ¨èƒ½é‡ç›¸è¿‘çš„å„ä¸ªå‰çº¿è½¨é“ï¼Œè€Œä¸éœ€è¦åœ¨å„è½¨é“ä¹‹é—´â€œè·³æ¥è·³å»â€ï¼Œä½¿ä½“ç³»æ›´å®¹æ˜“è‡ªæ´½ã€‚<br>
ä½¿ç”¨è¯¥åŠæ³•æ—¶è¦å¯¹æ‹–å°¾æ•ˆåº”è®¾å®šä¸€ä¸ªèƒ½é‡å€¼ï¼Œä½¿ç”µå­åœ¨èƒ½é‡ç›¸å·®åœ¨è¯¥å€¼ä¹‹å†…çš„è½¨é“è¿›è¡Œåˆ†æ•°åˆ†å¸ƒã€‚è®¾å®šå€¼è¶Šå°ï¼Œè®¡ç®—ç»“æœè¶Šç²¾ç¡®ï¼Œä½†äº¦æ›´éš¾è‡ªæ´½ã€‚ï¼ˆä¹Ÿå«å±•å®½ï¼‰</p>
<p>æ€å¯†åº¦çš„å±•å®½ä»ç®—æ³•ä¸Šæ¥è¯´æ˜¯ä¸ºäº†è·å¾—æ›´åŠ æ¸…æ¥šå¹³æ»‘çš„æ›²çº¿ï¼Œä½†æ˜¯ä»ç‰©ç†æ„ä¹‰ä¸Šæ¥è¯´æ˜¯å€Ÿç”¨äº†å…‰è°±å­¦ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå½“ä¸€ä¸ªä½“ç³»æœ‰äº†åœ¨ä¸€ä¸ªèƒ½çº§ä»¥åï¼Œæˆ‘ä»¬è®¡ç®—å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªé™æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå‡†ç¡®çš„æ•°å€¼ï¼Œå¦‚æœæˆ‘ä»¬æŠŠè¿™äº›æ•°å€¼ç”»å‡ºæ¥ï¼Œåœ¨æ¯ä¸€ä¸ªKç‚¹å¾—åˆ°æ˜¯ä¸€ä¸ªå†²å‡»å‡½æ•°(delta(t)).ä½†æ˜¯å®é™…æƒ…å†µä¸­ï¼Œä½“ç³»æ˜¯æœ‰å¤–éƒ¨çš„æ‰°åŠ¨çš„ï¼Œæ¯”å¦‚çƒ­æ‰°åŠ¨ï¼Œè¿™ç§çƒ­æ‰°åŠ¨åœ¨å…‰è°±å­¦ä¸­å¾—åˆ°çš„èƒ½çº§æ˜¯æœ‰ä¸€å®šçš„æ³¢åŠ¨ï¼Œè¿™æ ·æˆ‘ä»¬å¾—åˆ°èƒ½çº§æ˜¯æœ‰ä¸€å®šçš„å±•åº¦å®½ã€‚ä¸ºäº†æè¿°è¿™ä¸ªæ‰°åŠ¨å¸¦æ¥çš„èƒ½çº§çš„å±•å®½ï¼Œæˆ‘ä»¬åœ¨åˆ†ææ€å¯†åº¦æ—¶å¼•å…¥äº†å±•å®½çš„æ¦‚å¿µï¼Œè¿™æ˜¯å’Œå®é™…æƒ…å†µå¯æ¯”çš„ä¸€ç§å¤„ç†æ‰‹æ®µã€‚</p>
<p>ä½¿ç”¨Utilsä¸‹çš„fmpdoså’Œpdosxmlç»˜åˆ¶PDOS<br>
ç»˜åˆ¶PDOSéœ€è¦æ·»åŠ block</p>
<pre><code>%block ProjectedDensityOfStates
-30 20 0.1 1000 eV
%endblock ProjectedDensityOfStates
</code></pre>
<p>å…¶ä¸­-30 20æ˜¯èƒ½é‡èŒƒå›´<br>
0.1æ˜¯å±•å®½<br>
1000æ˜¯ç»˜åˆ¶çš„ç‚¹æ•°</p>
<pre><code>rm -rf CLOCK
rm -rf INPUT*
rm -rf MESSAGES
rm -rf fdf-*
rm -rf PARALLEL_DIST
rm -rf O_NORMAL_EXIT
rm -rf TIMES
rm -rf OCCS
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ubuntu 20.04 Intel-Oneapi ç¼–è¯‘ siesta-Max-1.3.1(psml)]]></title>
        <id>https://lisonglin-xidian.github.io/post/ubuntu-2004-intel-oneapi-bian-yi-siesta-max-131psml/</id>
        <link href="https://lisonglin-xidian.github.io/post/ubuntu-2004-intel-oneapi-bian-yi-siesta-max-131psml/">
        </link>
        <updated>2023-05-13T06:52:21.000Z</updated>
        <summary type="html"><![CDATA[<p>ubuntu 20.04ç¼–è¯‘å®‰è£…siestaï¼ŒTBtransï¼Œsiesta Max-1.3.1ä¸­çš„siestaå·²ç»åŒ…å«transiestaã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ubuntu 20.04ç¼–è¯‘å®‰è£…siestaï¼ŒTBtransï¼Œsiesta Max-1.3.1ä¸­çš„siestaå·²ç»åŒ…å«transiestaã€‚</p>
<!-- more -->
<h1 id="1-intel-onepaiå®‰è£…">1. Intel Onepaiå®‰è£…</h1>
<p>ç•¥</p>
<h1 id="2-ç¼–è¯‘-siesta">2. ç¼–è¯‘ siesta</h1>
<p>ä»siestaå®˜ç½‘ä¸‹è½½siesta-Max-1.3.1ç‰ˆæœ¬</p>
<pre><code>tar -zxvf siesta-MaX-1.3.1.tar.gz
cd siesta-MaX-1.3.1/Docs/
</code></pre>
<p>è®¾ç½®ç¼–è¯‘å™¨å®‰è£…netcdfï¼Œflookï¼Œpsmlå’Œgribxcã€‚è¿™é‡Œä¸€å®šè¦é€‰æ‹©å’Œåé¢ç¼–è¯‘siestaç›¸åŒçš„ç¯å¢ƒï¼Œå¦åˆ™æŠ¥é”™ï¼Œå®‰è£…æˆåŠŸåä¼šæç¤ºç¼–è¯‘å‚æ•°å¤åˆ¶ä¿å­˜ã€‚</p>
<pre><code>export FC=ifort 
export CC=icc 
export MPICC=mpiicc 
export MPIFC=mpiifort
</code></pre>
<p>æ”¯æŒpsmlèµåŠ¿æ ¼å¼çš„siestaå¿…é¡»å®‰è£…è¿™ä¸¤ä¸ªå†…å®¹ï¼š<br>
å®‰è£…psmlä»¥åŠgribxc</p>
<pre><code>./install_psml.bash
./install_gridxc.bash
</code></pre>
<p>å®‰è£…å¿…è¦æ–‡ä»¶åæ‰å¯ä»¥å®‰è£…netcdf4ä»¥åŠflook</p>
<pre><code>sudo apt-get install m4
./install_netcdf4.bash
sudo apt-get install libreadline-dev 
./install_flook.bash
</code></pre>
<p>æˆåŠŸåä¼šåœ¨æœ€åæç¤ºç¼–è¯‘å‚æ•°ã€‚å¤åˆ¶ä¿å­˜åé¢ä½¿ç”¨<br>
è¿›å…¥ç¨‹åºä¸»ç›®å½•ä¸‹Objç›®å½•ï¼Œå‡†å¤‡åˆæ­¥ç¼–è¯‘æ–‡ä»¶<br>
<code>cd siesta-MaX-1.3.1/Obj</code><br>
æ‰§è¡Œ <code>bash ../Src/obj_setup.sh</code><br>
<code>cp intel.make arch.make</code><br>
ä»¥ä¸‹ä¸ºMPIå¹¶è¡Œç¼–è¯‘ï¼ŒåŒ…å«åº“BLASï¼ŒLAPACKï¼ŒScaLAPACKï¼Œfdictï¼ŒNetCDFï¼Œncdfï¼Œflookï¼Œpsmlï¼Œgribxcç­‰ï¼Œä¸åŒ…å«Metisï¼ŒELPAï¼ŒMUMPSï¼ŒPEXSIã€‚<br>
åœ¨<code>arch.make</code>æ–‡ä»¶ä¸­ä¿®æ”¹CCä¸ºmpiccï¼Œä¿®æ”¹FCä¸ºmpiifortï¼Œ<br>
æ³¨é‡Š<code>COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a</code>å’Œ<code>#LIBS =</code>è¿™ä¸¤è¡Œ<br>
æ·»åŠ å†…å®¹ï¼ˆæ·»åŠ ä½ç½®åœ¨<code># Dependency rules ---------</code>è¿™ä¸€è¡Œå‰é¢ï¼‰<br>
å°†ä¸Šé¢ç¼–è¯‘æˆåŠŸnetcdfå’Œflookåè¾“å‡ºçš„ç¼–è¯‘å‚æ•°å¤åˆ¶åˆ°ä¸‹æ–¹</p>
<pre><code>#MPI
MPI_INTERFACE = libmpi_f90.a
MPI_INCLUDE = .
FPPFLAGS += -DMPI

#BLAS &amp; LAPACK &amp; SCALAPACK_LIBS
LDFLAGS += -L/opt/intel/oneapi/mkl/2022.0.2/lib/intel64
#LIBS += -lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64 -lmkl_intel_lp64 -lmkl_core -openmp -lmkl_intel_thread
LIBS += -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64

#psml xmlf90
XMLF90_ROOT = /home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build
include $(XMLF90_ROOT)/share/org.siesta-project/xmlf90.mk
PSML_ROOT = /home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build
include $(PSML_ROOT)/share/org.siesta-project/psml.mk
LDFLAGS += -Wl,-rpath,/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/lib

#gridxc libxc
GRIDXC_ROOT = /home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build
include $(GRIDXC_ROOT)/share/org.siesta-project/gridxc_dp_mpi.mk
LDFLAGS += -Wl,-rpath,/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/lib

#NetCDF &amp; fdict &amp; hdf5 &amp; zlib &amp; ncdf
INCFLAGS += -I/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/include
LDFLAGS += -L/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/lib -Wl,-rpath,/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/lib
LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
COMP_LIBS += libncdf.a libfdict.a
FPPFLAGS += -DCDF -DNCDF -DNCDF_4

#flook
INCFLAGS += -I/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/include
LDFLAGS += -L/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/lib -Wl,-rpath,/home/mccc/software/siesta/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/lib
LIBS += -lflookall -ldl
COMP_LIBS += libfdict.a
FPPFLAGS += -DSIESTA__FLOOK
</code></pre>
<p>å®Œæ•´çš„arch.makeå¦‚ä¸‹ï¼š</p>
<pre><code># 
# Copyright (C) 1996-2016	The SIESTA group
#  This file is distributed under the terms of the
#  GNU General Public License: see COPYING in the top directory
#  or http://www.gnu.org/copyleft/gpl.txt.
# See Docs/Contributors.txt for a list of contributors.
#
#-------------------------------------------------------------------
# arch.make file for gfortran compiler.
# To use this arch.make file you should rename it to
#   arch.make
# or make a sym-link.
# For an explanation of the flags see DOCUMENTED-TEMPLATE.make

.SUFFIXES:
.SUFFIXES: .f .F .o .c .a .f90 .F90

SIESTA_ARCH = ubuntu-intel-oneapi

CC = mpicc
FPP = $(FC) -E -P
FC = mpiifort
FC_SERIAL = ifort

FFLAGS = -O2 -fPIC -fp-model source

AR = ar
RANLIB = ranlib

SYS = nag

SP_KIND = 4
DP_KIND = 8
KINDS = $(SP_KIND) $(DP_KIND)

LDFLAGS =

#COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a

FPPFLAGS = $(DEFS_PREFIX)-DFC_HAVE_ABORT

#LIBS =

#MPI
MPI_INTERFACE = libmpi_f90.a
MPI_INCLUDE = .
FPPFLAGS += -DMPI

#BLAS &amp; LAPACK &amp; SCALAPACK_LIBS
LDFLAGS += -L/opt/intel/oneapi/mkl/2022.0.2/lib/intel64
#LIBS += -lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64 -lmkl_intel_lp64 -lmkl_core -openmp -lmkl_intel_thread
LIBS += -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64

XMLF90_ROOT = /home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build
include $(XMLF90_ROOT)/share/org.siesta-project/xmlf90.mk
PSML_ROOT = /home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build
include $(PSML_ROOT)/share/org.siesta-project/psml.mk
LDFLAGS += -Wl,-rpath,/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/lib


GRIDXC_ROOT = /home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build
include $(GRIDXC_ROOT)/share/org.siesta-project/gridxc_dp_mpi.mk
LDFLAGS += -Wl,-rpath,/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/lib

INCFLAGS += -I/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/include
LDFLAGS += -L/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/lib
LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
COMP_LIBS += libncdf.a libfdict.a
FPPFLAGS += -DCDF -DNCDF -DNCDF_4

INCFLAGS += -I/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/include
LDFLAGS += -L/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-pdf/siesta-MaX-1.3.1/Docs/build/flook/0.8.1/lib
LIBS += -lflookall -ldl
COMP_LIBS += libfdict.a
FPPFLAGS += -DSIESTA__FLOOK

# Dependency rules ---------

FFLAGS_DEBUG = -g -O1 -fp-model source   # your appropriate flags here...

# The atom.f code is very vulnerable. Particularly the Intel compiler
# will make an erroneous compilation of atom.f with high optimization
# levels.
atom.o: atom.F
	$(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&lt; 
state_analysis.o: state_analysis.F
	$(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&lt; 

.c.o:
	$(CC) -c $(CFLAGS) $(INCFLAGS) $(CPPFLAGS) $&lt; 
.F.o:
	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F)  $&lt; 
.F90.o:
	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_free_F90) $&lt; 
.f.o:
	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_fixed_f)  $&lt;
.f90.o:
	$(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_free_f90)  $&lt;

</code></pre>
<p>æ³¨æ„$(FC)çš„å‰é¢æ˜¯tabç¬¦å·ä¸æ˜¯ç©ºæ ¼ã€‚<br>
ç„¶å<br>
åœ¨<code>siesta-MaX-1.3.1/Obj</code>æ–‡ä»¶å¤¹ä¸‹<br>
æ‰§è¡Œ<code>make</code><br>
è¿™é‡Œå¯ä»¥è·å¾—<code>siesta</code>æ‰§è¡Œæ–‡ä»¶<br>
è¯¥ç›®å½•è¿è¡Œ<code>./siesta</code><br>
è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code>Siesta Version  : unreleased 8ef31a088 (2021-10-19)
Architecture    : ubuntu-intel-oneapi-Max
Compiler version: ifort (IFORT) 2021.5.0 20211109
Compiler flags  : mpiifort -O2 -fPIC -fp-model source
PP flags        : -DFC_HAVE_ABORT -DMPI -DCDF -DNCDF -DNCDF_4 -DSIESTA__FLOOK
Libraries       : libncdf.a libfdict.a libfdict.a -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64 -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz -lflookall -ldl
Parallelisations: MPI
NetCDF support
NetCDF-4 support
Lua support

Runtime information:
* Directory : /home/mccc/download/siesta
* Running in serial mode (only 1 MPI rank).
&gt;&gt; Start of run:  13-MAY-2023  15:03:20

                           ***********************
                           *  WELCOME TO SIESTA  *
                           ***********************

reinit: Reading from standard input
reinit: Dumping input in INPUT_TMP.22936
************************** Dump of input data file ****************************
</code></pre>
<p>é€‰æ‹©æ‰§è¡Œå¦‚ä¸‹å†…å®¹(Max-1.3.1ç‰ˆæœ¬çš„siestaå·²ç»åŒ…å«transiesta)ï¼š</p>
<pre><code>ç›´æ¥æ‰§è¡Œ`make transiesta`ä¼šæŠ¥é”™éœ€è¦å…ˆ
æ‰§è¡Œ `make clean-transiesta`
ç„¶åè¿è¡Œ`make transiesta`
è¿™é‡Œå¯ä»¥è·å¾—`transiesta`æ‰§è¡Œæ–‡ä»¶
</code></pre>
<p>ç„¶å<code>cd siesta-MaX-1.3.1/Util/TS/TBtrans</code><br>
è¿™é‡Œç›´æ¥æ‰§è¡Œ<code>make</code><br>
è·å¾—<code>TBtrans</code>æ‰§è¡Œæ–‡ä»¶<br>
åœ¨siesta-MaX-1.3.1æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶å¤¹bin<br>
<code>cd siesta-MaX-1.3.1</code><br>
<code>mkdir bin</code><br>
å°†<code>siesta</code>ï¼Œ<code>transiesta</code>ï¼Œ<code>TBtrans</code>æ‹·è´åˆ°binæ–‡ä»¶å¤¹ä¸‹<br>
åœ¨<code>~/.bashrc</code> ä¸­æ·»åŠ <br>
<code>export PATH=:XXX/siesta-MaX-1.3.1/bin:$PATH</code><br>
å‚è€ƒåœ°å€ï¼š<br>
<a href="http://blog.chinaunix.net/uid-20339569-id-5846483.html">CentOS7+ifort14+mkl+mpich2ç¯å¢ƒä¸‹ç¼–è¯‘å¹¶è¡Œsiesta</a><br>
<a href="http://www.pseudo-dojo.org/index.html">psmlæ ¼å¼èµåŠ¿åº“</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ubuntu 20.04 Intel Oneapi ç¼–è¯‘ siesta-4.1.5]]></title>
        <id>https://lisonglin-xidian.github.io/post/ubuntu-intel-oneapi-bian-yi-siesta/</id>
        <link href="https://lisonglin-xidian.github.io/post/ubuntu-intel-oneapi-bian-yi-siesta/">
        </link>
        <updated>2023-05-05T06:55:15.000Z</updated>
        <summary type="html"><![CDATA[<p>ubuntu 20.04ç¼–è¯‘å®‰è£…siestaï¼Œtransiestaï¼ŒTBtransï¼Œsiesta 4.1.5ä¸­çš„siestaå·²ç»åŒ…å«transiestaã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ubuntu 20.04ç¼–è¯‘å®‰è£…siestaï¼Œtransiestaï¼ŒTBtransï¼Œsiesta 4.1.5ä¸­çš„siestaå·²ç»åŒ…å«transiestaã€‚</p>
<!-- more -->
<h1 id="1-intel-onepaiå®‰è£…">1. Intel Onepaiå®‰è£…</h1>
<p>ç•¥</p>
<h1 id="2-ç¼–è¯‘-siesta">2. ç¼–è¯‘ siesta</h1>
<p>ä»siestaå®˜ç½‘ä¸‹è½½4.1.5ç‰ˆæœ¬</p>
<pre><code>tar -zxvf siesta-4.1.5.tar.gz
cd siesta-4.1.5/Docs/
</code></pre>
<p>æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…ï¼š<br>
<img src="https://lisonglin-xidian.github.io/post-images/1683508950537.jpg" alt="" loading="lazy"><br>
è®¾ç½®ç¼–è¯‘å™¨å®‰è£…netcdfå’Œflookï¼Œè¿™é‡Œä¸€å®šè¦é€‰æ‹©å’Œåé¢ç¼–è¯‘siestaç›¸åŒçš„ç¯å¢ƒï¼Œå¦åˆ™æŠ¥é”™</p>
<pre><code>export CC=mpicc
export FC=mpiifort
</code></pre>
<p>å®‰è£…å¿…è¦æ–‡ä»¶åæ‰å¯ä»¥å®‰è£…netcdf4ä»¥åŠflook</p>
<pre><code>sudo apt-get install m4
./install_netcdf4.bash
</code></pre>
<p>å®‰è£…æˆåŠŸåä¼šåœ¨æœ€åæç¤ºç¼–è¯‘å‚æ•°ï¼Œå¤åˆ¶ä¿å­˜åé¢ä½¿ç”¨</p>
<pre><code>sudo apt-get install libreadline-dev 
./install_flook.bash
</code></pre>
<p>æˆåŠŸåä¼šåœ¨æœ€åæç¤ºç¼–è¯‘å‚æ•°ã€‚å¤åˆ¶ä¿å­˜åé¢ä½¿ç”¨<br>
è¿›å…¥ç¨‹åºä¸»ç›®å½•ä¸‹Objç›®å½•ï¼Œå‡†å¤‡åˆæ­¥ç¼–è¯‘æ–‡ä»¶<br>
<code>cd siesta-4.1.5/Obj</code><br>
æ‰§è¡Œ <code>bash ../Src/obj_setup.sh</code><br>
<code>cp intel.make arch.make</code><br>
ä»¥ä¸‹ä¸ºMPIå¹¶è¡Œç¼–è¯‘ï¼ŒåŒ…å«åº“BLASï¼ŒLAPACKï¼ŒScaLAPACKï¼Œfdictï¼ŒNetCDFï¼Œncdfï¼Œflookï¼Œ<br>
ä¸åŒ…å«Metisï¼ŒELPAï¼ŒMUMPSï¼ŒPEXSIã€‚<br>
åœ¨<code>arch.make</code>æ–‡ä»¶ä¸­ä¿®æ”¹CCä¸ºmpiccï¼Œä¿®æ”¹FCä¸ºmpiifortï¼Œ<br>
æ³¨é‡Š<code>COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a</code>å’Œ<code>#LIBS =</code>è¿™ä¸¤è¡Œ<br>
æ·»åŠ å†…å®¹ï¼ˆæ·»åŠ ä½ç½®åœ¨<code># Dependency rules ---------</code>è¿™ä¸€è¡Œå‰é¢ï¼‰<br>
å°†ä¸Šé¢ç¼–è¯‘æˆåŠŸnetcdfå’Œflookåè¾“å‡ºçš„ç¼–è¯‘å‚æ•°å¤åˆ¶åˆ°ä¸‹æ–¹</p>
<pre><code>#MPI
MPI_INTERFACE = libmpi_f90.a
MPI_INCLUDE = .
FPPFLAGS += -DMPI

#BLAS &amp; LAPACK &amp; SCALAPACK_LIBS
LDFLAGS += -L/opt/intel/oneapi/mkl/2022.0.2/lib/intel64
#LIBS += -lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64 -lmkl_intel_lp64 -lmkl_core -openmp -lmkl_intel_thread
LIBS += -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64

#NetCDF &amp; fdict &amp; hdf5 &amp; zlib &amp; ncdf
INCFLAGS += -I/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/include
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib
LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
COMP_LIBS += libncdf.a libfdict.a
FPPFLAGS += -DCDF -DNCDF -DNCDF_4

#flook
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib
LIBS += -lflookall -ldl
COMP_LIBS += libfdict.a
FPPFLAGS += -DSIESTA__FLOOK
</code></pre>
<p>å®Œæ•´çš„arch.makeå¦‚ä¸‹ï¼š</p>
<pre><code>#
# Copyright (C) 1996-2016       The SIESTA group
#  This file is distributed under the terms of the
#  GNU General Public License: see COPYING in the top directory
#  or http://www.gnu.org/copyleft/gpl.txt.
# See Docs/Contributors.txt for a list of contributors.
#
#-------------------------------------------------------------------
# arch.make file for gfortran compiler.
# To use this arch.make file you should rename it to
#   arch.make
# or make a sym-link.
# For an explanation of the flags see DOCUMENTED-TEMPLATE.make

.SUFFIXES:
.SUFFIXES: .f .F .o .c .a .f90 .F90

SIESTA_ARCH = unknown

CC = mpicc
FPP = $(FC) -E -P
FC = mpiifort
FC_SERIAL = ifort

FFLAGS = -O2 -fPIC -fp-model source

AR = ar
RANLIB = ranlib

SYS = nag

SP_KIND = 4
DP_KIND = 8
KINDS = $(SP_KIND) $(DP_KIND)

LDFLAGS =

#COMP_LIBS = libsiestaLAPACK.a libsiestaBLAS.a

FPPFLAGS = $(DEFS_PREFIX)-DFC_HAVE_ABORT

#LIBS =
#MPI
MPI_INTERFACE = libmpi_f90.a
MPI_INCLUDE = .
FPPFLAGS += -DMPI

#BLAS &amp; LAPACK &amp; SCALAPACK_LIBS
LDFLAGS += -L/opt/intel/oneapi/mkl/2022.0.2/lib/intel64
#LIBS += -lmkl_blas95_lp64 -lmkl_lapack95_lp64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64 -lmkl_intel_lp64 -lmkl_core -openmp -lmkl_intel_thread
LIBS += -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64

#INCFLAGS += -I/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/include
#LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib
#LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib
#LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib
#LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
#COMP_LIBS += libncdf.a libfdict.a
#FPPFLAGS += -DCDF -DNCDF -DNCDF_4
#LIBS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib -lnetcdff -lnetcdf -lhdf5_fortran -lhdf5 -lz
#COMP_LIBS += libncdf.a libfdict.a
#FPPFLAGS += -DNCDF -DNCDF_4
#FPPFLAGS += -DNCDF_PARALLEL

INCFLAGS += -I/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/include
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/zlib/1.2.11/lib
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/hdf5/1.12.0/lib
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/netcdf/4.7.4/lib
LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
COMP_LIBS += libncdf.a libfdict.a
FPPFLAGS += -DCDF -DNCDF -DNCDF_4



INCFLAGS += -I/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/include
#LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib -Wl,-rpath,/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib
#LIBS += -lflookall -ldl
#COMP_LIBS += libfdict.a
#FPPFLAGS += -DSIESTA__FLOOK
LDFLAGS += -L/home/mccc/download/siesta/siesta-4.1.5/Docs/build/flook/0.8.1/lib
LIBS += -lflookall -ldl
COMP_LIBS += libfdict.a
FPPFLAGS += -DSIESTA__FLOOK



#NetCDF &amp; fdict &amp; hdf5 &amp; zlib &amp; ncdf
#INCFLAGS += -I/opt/lib/netcdf/4.7.4/include
#LDFLAGS += -L/opt/lib/zlib/1.2.11/lib -Wl,-rpath,/opt/lib/zlib/1.2.11/lib
#LDFLAGS += -L/opt/lib/hdf5/1.12.0/lib -Wl,-rpath,/opt/lib/hdf5/1.12.0/lib
#LDFLAGS += -L/opt/lib/netcdf/4.7.4/lib -Wl,-rpath,/opt/lib/netcdf/4.7.4/lib
#LIBS += -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz
#COMP_LIBS += libncdf.a libfdict.a
#FPPFLAGS += -DCDF -DNCDF -DNCDF_4

#flook
#INCFLAGS += -I/opt/lib/flook/0.8.1/include
#LDFLAGS += -L/opt/lib/flook/0.8.1/lib -Wl,-rpath,/opt/lib/flook/0.8.1/lib
#LIBS += -lflookall -ldl
#COMP_LIBS += libfdict.a
#FPPFLAGS += -DSIESTA__FLOOK

# Dependency rules ---------

FFLAGS_DEBUG = -g -O1 -fp-model source   # your appropriate flags here...

# The atom.f code is very vulnerable. Particularly the Intel compiler
# will make an erroneous compilation of atom.f with high optimization
# levels.
atom.o: atom.F
        $(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&lt;
state_analysis.o: state_analysis.F
        $(FC) -c $(FFLAGS_DEBUG) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F) $&lt;

.c.o:
        $(CC) -c $(CFLAGS) $(INCFLAGS) $(CPPFLAGS) $&lt;
.F.o:
        $(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_fixed_F)  $&lt;
.F90.o:
        $(FC) -c $(FFLAGS) $(INCFLAGS) $(FPPFLAGS) $(FPPFLAGS_free_F90) $&lt;
.f.o:
        $(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_fixed_f)  $&lt;
.f90.o:
        $(FC) -c $(FFLAGS) $(INCFLAGS) $(FCFLAGS_free_f90)  $&lt;

</code></pre>
<p>ç„¶å<br>
åœ¨<code>siesta-4.1.5/Obj</code>æ–‡ä»¶å¤¹ä¸‹<br>
æ‰§è¡Œ<code>make</code><br>
è¿™é‡Œå¯ä»¥è·å¾—<code>siesta</code>æ‰§è¡Œæ–‡ä»¶<br>
è¯¥ç›®å½•è¿è¡Œ<code>./siesta</code><br>
è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code>Siesta Version  : 4.1.5
Architecture    : ubuntu-intel-oneapi
Compiler version: ifort (IFORT) 2021.5.0 20211109
Compiler flags  : mpiifort -O2 -fPIC -fp-model source
PP flags        : -DFC_HAVE_ABORT -DMPI -DCDF -DNCDF -DNCDF_4 -DSIESTA__FLOOK
Libraries       : libncdf.a libfdict.a libfdict.a -lmkl_intel_lp64 -lmkl_sequential -lmkl_core  -lpthread -lmkl_blacs_intelmpi_lp64 -lmkl_scalapack_lp64 -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lz -lflookall -ldl
PARALLEL version
NetCDF support
NetCDF-4 support
Lua support

* Running in serial mode with MPI
&gt;&gt; Start of run:   8-MAY-2023   9:33:51

                           ***********************
                           *  WELCOME TO SIESTA  *
                           ***********************

reinit: Reading from standard input
reinit: Dumped input in INPUT_TMP.93044
************************** Dump of input data file ****************************
</code></pre>
<p>é€‰æ‹©æ‰§è¡Œå¦‚ä¸‹å†…å®¹(4.1.5ç‰ˆæœ¬çš„siestaå·²ç»åŒ…å«transiesta)ï¼š</p>
<pre><code>ç›´æ¥æ‰§è¡Œ`make transiesta`ä¼šæŠ¥é”™éœ€è¦å…ˆ
æ‰§è¡Œ `make clean-transiesta`
ç„¶åè¿è¡Œ`make transiesta`
è¿™é‡Œå¯ä»¥è·å¾—`transiesta`æ‰§è¡Œæ–‡ä»¶
</code></pre>
<p>ç„¶å<code>cd siesta-4.1.5/Util/TS/TBtrans</code><br>
è¿™é‡Œç›´æ¥æ‰§è¡Œ<code>make</code><br>
è·å¾—<code>TBtrans</code>æ‰§è¡Œæ–‡ä»¶<br>
åœ¨siesta-4.1.5æ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶å¤¹bin<br>
<code>cd siesta-4.1.5</code><br>
<code>mkdir bin</code><br>
å°†<code>siesta</code>ï¼Œ<code>transiesta</code>ï¼Œ<code>TBtrans</code>æ‹·è´åˆ°binæ–‡ä»¶å¤¹ä¸‹<br>
åœ¨<code>~/.bashrc</code> ä¸­æ·»åŠ <br>
<code>export PATH=:XXX/siesta-4.1.5/bin:$PATH</code><br>
å‚è€ƒåœ°å€ï¼š<br>
<a href="http://blog.chinaunix.net/uid-20339569-id-5846483.html">CentOS7+ifort14+mkl+mpich2ç¯å¢ƒä¸‹ç¼–è¯‘å¹¶è¡ŒSIESTA-4.1.5</a><br>
<a href="http://www.pseudo-dojo.org/index.html">psmlæ ¼å¼èµåŠ¿åº“</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Intel Oneapiç¼–è¯‘Quantum ESPRESSO 7.2]]></title>
        <id>https://lisonglin-xidian.github.io/post/intel-oneapi-bian-yi-quantum-espresso-72/</id>
        <link href="https://lisonglin-xidian.github.io/post/intel-oneapi-bian-yi-quantum-espresso-72/">
        </link>
        <updated>2023-04-25T03:35:14.000Z</updated>
        <summary type="html"><![CDATA[<p>Quantum ESPRESSOä½¿ç”¨åŸºäºIntel Oneapiç¼–è¯‘ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>Quantum ESPRESSOä½¿ç”¨åŸºäºIntel Oneapiç¼–è¯‘ã€‚</p>
<!-- more -->
<h1 id="1-ubuntuå®‰è£…intel-oneapi-base-hpc-toolkit">1. Ubuntuå®‰è£…IntelÂ® oneAPI Base &amp; HPC Toolkit</h1>
<p>åŸºç¡€ç‰ˆå’ŒHPCç‰ˆéƒ½æ˜¯å…è´¹çš„</p>
<h2 id="11-ä¸‹è½½">1.1. ä¸‹è½½</h2>
<p>åœ¨<a href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/base-toolkit-download.html">Download the IntelÂ® oneAPI Base Toolkit</a>é¡µé¢ï¼Œé€‰æ‹© Linux-ç½‘ç»œå’Œæœ¬åœ°-è„±æœºï¼Œå¹¶ä¸‹è½½l_BaseKit_p_2021.4.0.3422_offline.shæ–‡ä»¶ã€‚<br>
åœ¨<a href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/hpc-toolkit-download.html">Download the IntelÂ® oneAPI HPC Toolkit</a>é¡µé¢ï¼Œé€‰æ‹© Linux-ç½‘ç»œå’Œæœ¬åœ°-è„±æœºï¼Œå¹¶ä¸‹è½½l_HPCKit_p_2021.4.0.3347_offline.shæ–‡ä»¶ã€‚</p>
<h2 id="12-å®‰è£…">1.2. å®‰è£…</h2>
<p>cdè¿›å…¥ï¼ŒlsæŸ¥çœ‹ï¼Œè€Œåå®‰è£…ï¼š</p>
<pre><code>sudo sh l_BaseKit_p_xxxx.x.x.xxxx_offline.sh
sudo sh l_HPCKit_p_xxxx.x.x.xxxx_offline.sh
</code></pre>
<p>é€‰æ‹©åˆé€‚çš„å®‰è£…è·¯å¾„ï¼šBy default, &lt;install_dir&gt; is:<br>
For root installations: /opt/intel/oneapi<br>
For non-root installations: $HOME/intel</p>
<h2 id="13-è°ƒç”¨">1.3. è°ƒç”¨</h2>
<p>ä¿®æ”¹bashrc<br>
<code>vim ~/.bashrc</code><br>
æ·»åŠ å¦‚ä¸‹<br>
<code>source /opt/intel/oneapi/setvars.sh intel64</code><br>
è¾“å‡ºæ–‡ä»¶ï¼š</p>
<pre><code>source ~/.bashrc 
 
:: initializing oneAPI environment ...
   bash: BASH_VERSION = 5.0.17(1)-release
:: advisor -- latest
:: ccl -- latest
:: clck -- latest
:: compiler -- latest
:: dal -- latest
:: debugger -- latest
:: dev-utilities -- latest
:: dnnl -- latest
:: dpcpp-ct -- latest
:: dpl -- latest
:: inspector -- latest
:: intelpython -- latest
:: ipp -- latest
:: ippcp -- latest
:: ipp -- latest
:: itac -- latest
:: mkl -- latest
:: mpi -- latest
:: tbb -- latest
:: vpl -- latest
:: vtune -- latest
:: oneAPI environment initialized ::
</code></pre>
<p>éªŒè¯æ˜¯å¦è°ƒç”¨æˆåŠŸï¼š</p>
<pre><code>$ ifort -V
Intel(R) Fortran Intel(R) 64 Compiler Classic for applications running on Intel(R) 64, Version 2021.4.0 Build 20210910_000000
Copyright (C) 1985-2021 Intel Corporation.  All rights reserved.
</code></pre>
<h1 id="2-ç¼–è¯‘qe">2 ç¼–è¯‘QE</h1>
<p>å®˜ç½‘ä¸‹è½½QEå®‰è£…åŒ…ï¼š<a href="https://www.quantum-espresso.org/download-page/">quantum-espresso</a><br>
tar -zxvf qe-7.2-ReleasePack.tar.gz<br>
è§£å‹å®‰è£…åŒ…ï¼ŒQEå¦‚æœå°†intelæ”¾å…¥bashrcæ–‡ä»¶ä¸­ï¼ŒQEå¯ä»¥è¯†åˆ«ç¼–è¯‘å™¨ã€‚è¿™é‡Œå¯ä»¥ç›´æ¥è¿è¡Œ<br>
./configure<br>
é…ç½®æˆåŠŸåä¿®æ”¹åº“æ–‡ä»¶<br>
vim make.inc<br>
æ£€æŸ¥æ˜¯å¦ä½¿ç”¨intelç¼–è¯‘å™¨ã€‚</p>
<pre><code>MPIF90         = mpiifort
F90           = ifort
CC             = icc
</code></pre>
<p>æ ¹æ®<a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onemkl-link-line-advisor.html#gs.vq9ljy">intelåŠ¨æ€é“¾æ¥åº“</a>ä¿®æ”¹BLAS_LIBSï¼ŒLAPACK_LIBSï¼ŒSCALAPACK_LIBS<br>
<img src="https://lisonglin-xidian.github.io/post-images/1682394948598.jpg" alt="" loading="lazy"><br>
æˆ‘è¿™é‡ŒBLAS_LIBSè‡ªåŠ¨è¯†åˆ«ä¸º<code>BLAS_LIBS      =   -lmkl_intel_lp64  -lmkl_sequential -lmkl_core</code><br>
ä¿®æ”¹LPACK_LIBSä¸º<code>LAPACK_LIBS = -lmkl_blacs_intelmpi_lp64  -lpthread</code><br>
ä¿®æ”¹SCALPACK_LIBSä¸º<code>SCALAPACK_LIBS = -lmkl_scalapack_lp64</code><br>
è¿™é‡ŒFFT_LIBSå®˜æ–¹ç»™çš„æ³¨é‡Šä¸º nothing needed here if the the internal copy of FFTW is compiledæˆ‘ä»¬ä¸åšä¿®æ”¹ä¸ºç©º<br>
MPI_LIBSå†…å®¹çš„æ³¨é‡Šä¸ºMPI libraries (should not be needed)æˆ‘ä»¬ä¾ç„¶ä¸åšä¿®æ”¹<br>
æœ€ç»ˆmake.incæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code># make.inc.  Generated from make.inc.in by configure.

# compilation rules

.SUFFIXES :
.SUFFIXES : .o .c .f90 .h .fh

# most fortran compilers can directly preprocess c-like directives: use
#       $(MPIF90) $(F90FLAGS) -c $&lt;
# if explicit preprocessing by the C preprocessor is needed, use:
#       $(CPP) $(CPPFLAGS) $&lt; -o $*.F90
#       $(MPIF90) $(F90FLAGS) -c $*.F90 -o $*.o
# remember the tabulator in the first column !!!

.f90.o:
        $(MPIF90) $(F90FLAGS) -c $&lt;

.c.o:
        $(CC) $(CFLAGS)  -c $&lt;

.h.fh:
        $(CPP) $(CPPFLAGS) $&lt; -o $*.fh



# Top QE directory, useful for locating libraries,  linking QE with plugins
# The following syntax should always point to TOPDIR:
TOPDIR = $(dir $(abspath $(filter %make.inc,$(MAKEFILE_LIST))))
# if it doesn't work, uncomment the following line (edit if needed):

# TOPDIR = /home/lsl/software/quantum-espresso/qe-7.2

# DFLAGS  = precompilation options (possible arguments to -D and -U)
#           used by the C compiler and preprocessor
# To use libxc (v&gt;=4.3.0), add -D__LIBXC to DFLAGS
# See include/defs.h.README for a list of options and their meaning
# With the exception of IBM xlf, FDFLAGS = $(DFLAGS)
# For IBM xlf, FDFLAGS is the same as DFLAGS with separating commas

# MANUAL_DFLAGS  = additional precompilation option(s), if desired
#                  BEWARE: it does not work for IBM xlf! Manually edit FDFLAGS
MANUAL_DFLAGS  =
DFLAGS         =  -D__DFTI -D__MPI
FDFLAGS        = $(DFLAGS) $(MANUAL_DFLAGS)

# IFLAGS = how to locate directories with *.h or *.f90 file to be included
#          typically -I$(TOPDIR)/include -I/some/other/directory/
#          the latter contains .e.g. files needed by FFT libraries
# for libxc add -I/path/to/libxc/include/

IFLAGS         = -I. -I$(TOPDIR)/include -I/opt/intel/oneapi/mkl/2022.0.2/include

# MOD_FLAG = flag used by f90 compiler to locate modules

MOD_FLAG      = -I

# BASEMOD_FLAGS points to directories containing basic modules,
# while BASEMODS points to the corresponding module libraries.
# More package-specific directories can be added in each Makefile
# and stored into MODFLAGS, and the same for module libraries in QEMODS

BASEMOD_FLAGS= $(MOD_FLAG)$(TOPDIR)/upflib \
               $(MOD_FLAG)$(TOPDIR)/XClib \
               $(MOD_FLAG)$(TOPDIR)/Modules \
               $(MOD_FLAG)$(TOPDIR)/FFTXlib/src \
               $(MOD_FLAG)$(TOPDIR)/LAXlib \
               $(MOD_FLAG)$(TOPDIR)/UtilXlib \
               $(MOD_FLAG)$(TOPDIR)/MBD \
               $(MOD_FLAG)$(TOPDIR)/KS_Solvers $(FOX_MOD)

# If A depends upon B, A should come before B in the list below
# (most compilers don't care but some don't resolve cross links)
BASEMODS= $(TOPDIR)/Modules/libqemod.a \
          $(TOPDIR)/upflib/libupf.a \
          $(TOPDIR)/XClib/xc_lib.a \
          $(TOPDIR)/FFTXlib/src/libqefft.a \
          $(TOPDIR)/LAXlib/libqela.a \
          $(TOPDIR)/UtilXlib/libutil.a \
          $(TOPDIR)/MBD/libmbd.a

# Compilers: fortran-90, fortran-77, C
# If a parallel compilation is desired, MPIF90 should be a fortran-90
# compiler that produces executables for parallel execution using MPI
# (such as for instance mpif90, mpf90, mpxlf90,...);
# otherwise, an ordinary fortran-90 compiler (f90, g95, xlf90, ifort,...)

MPIF90         = mpiifort
F90           = ifort
CC             = icc

# GPU architecture (Kepler: 35, Pascal: 60, Volta: 70 )
GPU_ARCH=

# CUDA runtime (Pascal: 8.0, Volta: 9.0)
CUDA_RUNTIME=

# CUDA F90 Flags
CUDA_F90FLAGS= $(MOD_FLAG)$(TOPDIR)/external/devxlib/src

# CUDA C Flags
CUDA_CFLAGS=

# C preprocessor and preprocessing flags - for explicit preprocessing,
# if needed (see the compilation rules above)
# preprocessing flags must include DFLAGS and IFLAGS

CPP            = cpp
CPPFLAGS       = -P -traditional -Uvector $(DFLAGS) $(IFLAGS)

# compiler flags: C, F90
# C flags must include DFLAGS and IFLAGS
# F90 flags must include MODFLAGS, IFLAGS, and FDFLAGS with appropriate syntax

CFLAGS         = -O3 $(DFLAGS) $(IFLAGS) $(CUDA_CFLAGS)
F90FLAGS       = $(FFLAGS) -nomodule -fpp -allow nofpp_comments $(FDFLAGS) $(CUDA_F90FLAGS) $(IFLAGS) $(MODFLAGS)

# compiler flags with and without optimization for fortran-77
# the latter is NEEDED to properly compile dlamch.f, used by lapack
FFLAGS         = -O2 -assume byterecl -g -traceback
FFLAGS_NOOPT   = -O0 -assume byterecl -g -traceback

# compiler flag needed by some compilers when the main program is not fortran
# Currently used for Yambo

FFLAGS_NOMAIN   = -nofor_main

# Linker, linker-specific flags (if any)
# Typically LD coincides with F90 or MPIF90, LD_LIBS is empty
# for libxc, set LD_LIBS=-L/path/to/libxc/lib/ -lxcf03 -lxc
# If libxc release is 5.0.0 replace -lxcf03 with -lxcf90

LD             = mpiifort
LDFLAGS        =
LD_LIBS        =

# External Libraries (if any) : blas, lapack, fft, MPI

# If you have nothing better, use the local copy
# BLAS_LIBS = $(TOPDIR)/external/lapack/libblas.a

BLAS_LIBS      =   -lmkl_intel_lp64  -lmkl_sequential -lmkl_core

# If you have nothing better, use the local copy
# LAPACK = liblapack
# LAPACK_LIBS = $(TOPDIR)/external/lapack/liblapack.a

LAPACK      =
LAPACK_LIBS = -lmkl_blacs_intelmpi_lp64  -lpthread

SCALAPACK_LIBS = -lmkl_scalapack_lp64

# nothing needed here if the the internal copy of FFTW is compiled
# (needs -D__FFTW in DFLAGS)

FFT_LIBS       =

# HDF5
HDF5_LIBS =

# FOX
FOX      =
FOX_MOD  =
FOX_LIB  =
FOX_FLAGS =

# ENVIRON
ENVIRON_LIBS =

# MPI libraries (should not be needed)

MPI_LIBS       =

# IBM-specific: MASS libraries, if available and if -D__MASS is defined in FDFLAGS

MASS_LIBS      =

# CUDA libraries
CUDA_LIBS= -L$(TOPDIR)/external/devxlib/src -ldevXlib
CUDA_EXTLIBS = devxlib

# ar command and flags - for most architectures: AR = ar, ARFLAGS = ruv

AR             = ar
ARFLAGS        = ruv

# ranlib command. If ranlib is not needed (it isn't in most cases) use
# RANLIB = echo

RANLIB         = ranlib

# all internal and external libraries - do not modify

FLIB_TARGETS   = all

LIBXC_LIBS     =
QELIBS         = $(LIBXC_LIBS) \
                 $(CUDA_LIBS) $(SCALAPACK_LIBS) $(LAPACK_LIBS) $(FOX_LIB) \
                                 $(FFT_LIBS) $(BLAS_LIBS) $(MPI_LIBS) $(MASS_LIBS) $(HDF5_LIBS) \
                                 $(ENVIRON_LIBS) $(LD_LIBS)

# wget or curl - useful to download from network
WGET = wget -O

# Install directory - &quot;make install&quot; copies *.x executables there
PREFIX = /usr/local
</code></pre>
<p>ä½¿ç”¨<code>make all</code>å®‰è£…QE<br>
å®‰è£…æˆåŠŸåå°†QEæ·»åŠ åˆ°bashrcæ–‡ä»¶</p>
<pre><code># Quantum Espresso
export PATH=/home/lsl/software/quantum-espresso/qe-7.2/bin:$PATH
</code></pre>
<h1 id="3-æµ‹è¯•qe">3 æµ‹è¯•QE</h1>
<p><code>cd test-suite</code><br>
é€šè¿‡<code>make run-test</code>æµ‹è¯•æ‰€æœ‰å†…å®¹<br>
æˆ–è€…é€šè¿‡<code>make run-test</code>TabæŒ‰é”®æŸ¥çœ‹æƒ³è¦æµ‹è¯•çš„å†…å®¹ï¼Œä¾‹å¦‚<code>make run-tests-pw-parallel</code><br>
é™„å½•å‡ ä¸ªä¼šç”¨åˆ°çš„å‚è€ƒé“¾æ¥ï¼š<br>
ntelåŠ¨æ€é“¾æ¥åº“ï¼š<a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onemkl-link-line-advisor.html#gs.vq9ljy">IntelÂ® oneAPI Math Kernel Library Link Line Advisor</a><br>
QEé…ç½®: <a href="https://www.quantum-espresso.org/Doc/user_guide/node11.html">Building Quantum ESPRESSO with make</a><br>
èµåŠ¿æ–‡ä»¶ï¼š<a href="https://www.materialscloud.org/discover/sssp/table/efficiency#sssp-license">Standard solid-state pseudopotentials (SSSP)</a><br>
Quantum ESPRESSOç†è®ºè®¡ç®—è¯¾: <a href="https://www.bilibili.com/video/BV12q4y1o7K3?p=2&amp;vd_source=d1ee00ea8d763f289a421e68b278201e">bilibili-42èŠ‚Quantum Espressoç†è®ºè®¡ç®—è¯¾</a><br>
Quantum ESPRESSO æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1d4411r7c2?p=1&amp;vd_source=d1ee00ea8d763f289a421e68b278201e">Quantum ESPRESSOç†è®ºè¯¾</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ubuntu20.04å®‰è£…å•æœºç‰ˆslurm+é‚®ä»¶é€šçŸ¥]]></title>
        <id>https://lisonglin-xidian.github.io/post/ubuntu2004-an-zhuang-dan-ji-ban-slurmyou-jian-tong-zhi/</id>
        <link href="https://lisonglin-xidian.github.io/post/ubuntu2004-an-zhuang-dan-ji-ban-slurmyou-jian-tong-zhi/">
        </link>
        <updated>2022-11-05T02:17:15.000Z</updated>
        <summary type="html"><![CDATA[<p>Slurmä½œä¸šè°ƒåº¦ç³»ç»Ÿæ­é…s-nailå®ç°ä½œä¸šå¯åŠ¨ä»¥åŠè¿è¡Œå®Œæˆé‚®ä»¶é€šçŸ¥</p>
]]></summary>
        <content type="html"><![CDATA[<p>Slurmä½œä¸šè°ƒåº¦ç³»ç»Ÿæ­é…s-nailå®ç°ä½œä¸šå¯åŠ¨ä»¥åŠè¿è¡Œå®Œæˆé‚®ä»¶é€šçŸ¥</p>
<!-- more -->
<h1 id="1-å®‰è£…å’Œé…ç½®slurm">1. å®‰è£…å’Œé…ç½®Slurm</h1>
<h2 id="11å®‰è£…">1.1å®‰è£…</h2>
<p>ä½¿ç”¨Mobaxtermè½¯ä»¶ç­‰ç»ˆç«¯ï¼Œè·å–rootç”¨æˆ·æƒé™ï¼Œå®‰è£…slurmè½¯ä»¶</p>
<pre><code>sudo su
sudo apt install slurm-wlm slurm-wlm-doc -y
</code></pre>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<pre><code>slurmd --version
</code></pre>
<p>ç»ˆç«¯æ˜¾ç¤ºslurm-wlm 19.05.5</p>
<h2 id="12é…ç½®slurm">1.2é…ç½®Slurm</h2>
<p>é…ç½®æ–‡ä»¶åœ¨<code>/etc/slurm-llnl/</code>ä¸‹é¢ï¼›æ–°å»ºæ–‡ä»¶<code>slurm.conf</code></p>
<pre><code>sudo vim /etc/slurm-llnl/slurm.conf
</code></pre>
<p>ç¼–è¾‘slurm.confæ–‡ä»¶ï¼›æœ‰ç‚¹å„¿é•¿ä½†æ˜¯ä¿®æ”¹çš„åœ°æ–¹ä¸å¤šã€‚</p>
<pre><code>ClusterName=cool
ControlMachine=mcccnode1
#ControlAddr=
#BackupController=
#BackupAddr=
#
MailProg=/usr/bin/s-nail
SlurmUser=root
#SlurmdUser=root
SlurmctldPort=6817

SlurmdPort=6818
AuthType=auth/munge
#JobCredentialPrivateKey=
#JobCredentialPublicCertificate=
StateSaveLocation=/var/spool/slurmctld
SlurmdSpoolDir=/var/spool/slurmd
SwitchType=switch/none
MpiDefault=none
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmdPidFile=/var/run/slurmd.pid
ProctrackType=proctrack/pgid
#PluginDir=
#FirstJobId=
ReturnToService=0
#MaxJobCount=
#PlugStackConfig=
#PropagatePrioProcess=
#PropagateResourceLimits=
#PropagateResourceLimitsExcept=
#Prolog=
#Epilog=
#SrunProlog=
#SrunEpilog=
#TaskProlog=
#TaskEpilog=
#TaskPlugin=
#TrackWCKey=no
#TreeWidth=50
#TmpFS=
#UsePAM=
#
# TIMERS
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0
#
# SCHEDULING
SchedulerType=sched/backfill
#SchedulerAuth=

#SelectType=select/cons_tres
SelectType=select/cons_res
SelectTypeParameters=CR_Core
#SelectType=CR_CPU


#PriorityType=priority/multifactor
#PriorityDecayHalfLife=14-0
#PriorityUsageResetPeriod=14-0
#PriorityWeightFairshare=100000
#PriorityWeightAge=1000
#PriorityWeightPartition=10000
#PriorityWeightJobSize=1000
#PriorityMaxAge=1-0
#
# LOGGING

SlurmctldDebug=info
SlurmctldLogFile=/var/log/slurm-llnl/slurmctld.log
SlurmdDebug=info
SlurmdLogFile=/var/log/slurm-llnl/slurmd.log
JobCompType=jobcomp/none
#JobCompLoc=
#
# ACCOUNTING
#JobAcctGatherType=jobacct_gather/linux
#JobAcctGatherFrequency=30
#
#AccountingStorageType=accounting_storage/slurmdbd
#AccountingStorageHost=
#AccountingStorageLoc=
#AccountingStoragePass=
#AccountingStorageUser=
#
# COMPUTE NODES
GresTypes=gpu
PartitionName=mcccnode1 Nodes=mcccnode1 Default=NO MaxTime=INFINITE State=UP
#NodeName=mcccnode1 State=UNKNOWN
NodeName=mcccnode1 Sockets=2 CoresPerSocket=32 ThreadsPerCore=1 Gres=gpu:2 State=UNKNOWN

</code></pre>
<p>ä»£ç ä¸­éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š</p>
<p>ControlMachine=<font color=#FF0000 >master</font><br>
PartitionName=<font color=#FF0000 >master</font> Nodes=<font color=#FF0000 >master</font> Default=NO MaxTime=INFINITE State=UP<br>
#NodeName=<font color=#FF0000 >master</font> State=UNKNOWN<br>
NodeName=<font color=#FF0000 >master</font> Sockets=<font color=#008000 >2</font> CoresPerSocket=<font color=#008000 >16</font> ThreadsPerCore=<font color=#008000 >1</font> State=UNKNOWN</p>
<p><font color=#FF0000 >çº¢è‰²éƒ¨åˆ†ä¿®æ”¹ä¸ºhostnameï¼š</font><br>
ç»ˆç«¯é€šè¿‡å‘½ä»¤<code>hostname</code>å¾—åˆ°çš„ç»“æœ</p>
<p><font color=#008000 >ç»¿è‰²éƒ¨åˆ†ä¿®æ”¹ï¼š</font></p>
<p>è¿›é˜¶ï¼š</p>
<ol>
<li><code>Gres=gpu:2</code> è¿™é‡Œæœ¬æœºæœ‰ä¸¤ä¸ªGPUç”¨æ¥è®¡ç®—æ‰€ä»¥æ•°ç›®ä¸º2ï¼›è¿™ä¸ªå†…å®¹å¯ä»¥åˆ é™¤ä¸å½±å“CPUä½¿ç”¨ï¼›</li>
<li><code>GresTypes=gpu</code>æ·»åŠ æ”¯æŒGPUå¿…å¤‡ï¼ŒåŒç†è¿™ä¸ªå†…å®¹åˆ é™¤ä¸å½±å“CPUä½¿ç”¨ï¼›</li>
<li>è¿è¡ŒGPUä»»åŠ¡è¿˜éœ€è¦å†slurm.confç›¸åŒç›®å½•ä¸‹æ–°å»ºgres.confæ–‡ä»¶ï¼Œå…¶ä¸­hostnameå’ŒCPUä¸­å†…å®¹ç›¸åŒï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ol>
<pre><code>NodeName=hostname Name=gpu File=/dev/nvidia-caps/nvidia-cap1
NodeName=hostname Name=gpu File=/dev/nvidia-caps/nvidia-cap2
</code></pre>
<ol start="4">
<li>è¿™é‡Œçš„å†…å®¹å…è®¸å•èŠ‚ç‚¹è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ä¸€å…±æœ‰20ä¸ªæ ¸å¿ƒï¼Œå¯ä»¥æäº¤5ä¸ªè¿è¡Œ4æ ¸å¿ƒçš„ä»»åŠ¡ï¼›</li>
</ol>
<pre><code>SelectType=select/cons_res 
SelectTypeParameters=CR_Core
</code></pre>
<p><strong>Sockets</strong> ä»£è¡¨ä½ æœåŠ¡å™¨cpuçš„ä¸ªæ•°å¦‚æœæ˜¯é€šå¸¸æƒ…å†µæ™®é€šç”µè„‘ä¸º1ï¼ŒåŒè·¯æœåŠ¡å™¨çš„ä¸º2ï¼›4è·¯æœåŠ¡å™¨çš„ä¸º4ï¼›<br>
æŸ¥çœ‹CPUä¸ªæ•°çš„å‘½ä»¤ï¼š<code>cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</code></p>
<p><strong>CoresPerSocket</strong>ä»£è¡¨æ¯ä¸ªcpuçš„æ ¸æ•°ï¼Œ<br>
æŸ¥çœ‹CPUæ ¸æ•°çš„å‘½ä»¤ï¼š<code>cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</code></p>
<p><strong>ThreadsPerCore</strong>ä»£è¡¨æ˜¯å¦å¼€å¯è¶…çº¿ç¨‹ï¼›å¦‚æœå¼€å¯äº†è¿™ä¸ªç»“æœä¸º2ï¼›æ²¡æœ‰å¼€å¯ç»“æœä¸º1<br>
æµ‹è¯•è¶…çº¿ç¨‹çš„è„šæœ¬ï¼š<br>
<code>vim cxc.sh</code><br>
æ·»åŠ è„šæœ¬å†…å®¹ï¼š</p>
<pre><code>#!/bin/bash
cpuhx=`cat /proc/cpuinfo | grep &quot;cores&quot; | uniq | awk -F&quot;:&quot; '{print $2}'`
echo &quot;CPU æ ¸å¿ƒæ•°ï¼š$cpuhx&quot; ;
cpuxc=`cat /proc/cpuinfo | grep &quot;processor&quot; | wc -l`
echo &quot;CPU çº¿ç¨‹æ•°ï¼š$cpuxc&quot; ;
echo &quot;å¦‚æœçº¿ç¨‹æ•°æ˜¯æ ¸å¿ƒæ•°çš„ä¸¤å€ï¼Œä¸ºå¼€å¯äº†è¶…çº¿ç¨‹&quot;
</code></pre>
<p><font color=#FF0000 ><strong>å¦‚æœæ˜¯åŒè·¯æœåŠ¡å™¨å…³é—­è¶…çº¿ç¨‹æƒ…å†µä¸‹å¾—åˆ°ç»“æœå¦‚æœæ˜¯ä¸¤å€å°±æ²¡æœ‰å¼€å¯è¶…çº¿ç¨‹å¦‚æœæ˜¯4å€æ‰æ˜¯å¼€å¯äº†è¶…çº¿ç¨‹ï¼ï¼ï¼</strong></font></p>
<h2 id="13-å¯åŠ¨slurm">1.3 å¯åŠ¨Slurm</h2>
<p>ç»ˆç«¯è¿è¡Œä»¥ä¸‹ä»£ç å¯åŠ¨ï¼š</p>
<pre><code>sudo systemctl enable slurmctld --now
sudo systemctl enable slurmd --now
</code></pre>
<h1 id="2-é…ç½®é‚®ä»¶æé†’">2. é…ç½®é‚®ä»¶æé†’</h1>
<h2 id="21-å®‰è£…s-nail">2.1 å®‰è£…s-nail</h2>
<p>ç»ˆç«¯è¾“å…¥<code>sudo apt install s-nail</code></p>
<h2 id="22-é…ç½®s-nail">2.2 é…ç½®s-nail</h2>
<p>ä½¿ç”¨vimæ‰“å¼€é…ç½®æ–‡ä»¶:<code>vim /etc/s-nail.rc</code><br>
s-nail.rcæœ«å°¾æ·»åŠ ä¸€ä¸‹å†…å®¹</p>
<pre><code>set from=&quot;ä½ çš„qqé‚®ç®±&quot;
set smtp=&quot;smtps://smtp.qq.com:465&quot; 
set smtp-auth-user=&quot;ä½ çš„qqé‚®ç®±&quot;
set smtp-auth-password=&quot;qqé‚®ç®±æˆæƒç &quot; 
set smtp-auth=login
</code></pre>
<p><a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;id=28&amp;no=1001256">qqé‚®ç®±æˆæƒç æ•™ç¨‹</a></p>
<h2 id="23-æµ‹è¯•">2.3 æµ‹è¯•</h2>
<p>åœ¨å«æœ‰vaspæ–‡ä»¶ï¼ˆINCARã€KPOINTSã€POSCARã€POTCARï¼‰çš„æ–‡ä»¶å¤¹å†…æ–°å»ºè„šæœ¬vasp.slurm<br>
vaspè„šæœ¬å†…å®¹ï¼š-Nä¸ºèŠ‚ç‚¹æ•°é‡ï¼›-nä¸ºæäº¤çš„æ ¸æ•°æˆ–è€…çº¿ç¨‹æ•°ï¼›-Jä¸ºä½œä¸šåç§°ï¼›-pä¸ºä¸Šé¢æåˆ°çš„hostnameï¼›</p>
<pre><code>#!/bin/bash
#SBATCH -J VASP-m2690
#SBATCH -p mccc-Virtual-Machine
#SBATCH -N 1
#SBATCH -n 24
#SBATCH --mail-user=290462572@qq.com
#SBATCH --mail-type=ALL
mpirun -n 24 vasp
</code></pre>
<p><a href="https://zhuanlan.zhihu.com/p/356415669">Slurm ä½œä¸šè°ƒåº¦ç³»ç»Ÿä½¿ç”¨æŒ‡å—</a><br>
æŸ¥çœ‹QQé‚®ç®±æ˜¯å¦æœ‰é‚®ä»¶æé†’<br>
è¿˜å¯ä»¥é€šè¿‡<a href="https://jingyan.baidu.com/article/37bce2be4ef2601002f3a21c.html">å¾®ä¿¡æ·»åŠ QQé‚®ç®±æé†’</a></p>
<h1 id="3-é…ç½®accounting">3. é…ç½®accounting</h1>
<h2 id="31-ä¿®æ”¹etcslurmslurmconfæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä¿¡æ¯å¹¶é‡å¯æœåŠ¡">3.1 ä¿®æ”¹etc/slurm/slurm.confæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä¿¡æ¯å¹¶é‡å¯æœåŠ¡</h2>
<pre><code># ACCOUNTING
AccountingStorageEnforce=1

AccountingStorageType=accounting_storage/filetxt
AccountingStorageLoc=/opt/slurm/acct

JobCompType=jobcomp/filetxt
JobCompLoc=/opt/slurm/jobcomp

JobAcctGatherType=jobacct_gather/linux
JobAcctGatherFrequency=30
</code></pre>
<h2 id="32-æ–°å»ºæ–‡ä»¶å¤¹">3.2 æ–°å»ºæ–‡ä»¶å¤¹ï¼š</h2>
<pre><code>sudo mkdir -p /opt/slurm
sudo chmod -Rf 777 /opt/slurm
cd /opt/slurm
touch acct
touch jobcomp
</code></pre>
<h2 id="33-é‡å¯æœåŠ¡">3.3 é‡å¯æœåŠ¡</h2>
<pre><code>sudo systemctl restart slurmd
sudo systemctl restart slurmctld
</code></pre>
<h2 id="34-æŸ¥çœ‹å†å²ä½œä¸š">3.4 æŸ¥çœ‹å†å²ä½œä¸šï¼š</h2>
<pre><code>sacct
è·å–å†å²ä½œä¸šä¿¡æ¯
grep WorkDir /opt/slurm/jobcomp | grep Jobid
è·å–å†å²ä½œä¸šå·¥ä½œç›®å½•
</code></pre>
<h1 id="4-å¸¸ç”¨slurmå‘½ä»¤">4. å¸¸ç”¨Slurmå‘½ä»¤</h1>
<p><code>scontrol suspend job_id</code> å¯ä»¥æš‚åœæ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ï¼Œå¹¶ä¸”åœæ­¢åœ¨å½“å‰æ‰§è¡Œçš„stepä¸Šï¼Œä»¥ä¾¿æ¢å¤ã€‚<br>
<code>scontrol resume job_id</code>æ¥æ¢å¤ä¸Šè¿°æš‚åœçš„ä»»åŠ¡<br>
<code>sbatch vasp.slurm</code>æäº¤vaspè®¡ç®—ä»»åŠ¡<br>
<code>sinfo</code>æŸ¥çœ‹é˜Ÿåˆ—ä¿¡æ¯<br>
<code>squeue</code>æŸ¥çœ‹ä½œä¸šé˜Ÿåˆ—<br>
<code>scancel JOBID</code>å–æ¶ˆä½œä¸š<br>
<code>sbatch vasp.slurm</code>æäº¤ä½œä¸š<br>
<code>scontrol show job JOBID</code>æŸ¥çœ‹ä½œä¸šè¯¦ç»†ä¿¡æ¯<br>
<code>scontrol hold job_list</code>æŒ‚èµ·æ’é˜Ÿä¸­å°šæœªè¿è¡Œçš„ä½œä¸š<br>
<code>scontrol release job_list</code>ç»§ç»­æ’é˜Ÿè¢«æŒ‚èµ·çš„å°šæœªè¿è¡Œä½œä¸š<br>
<code>scontrol requeue job_list</code>é‡æ–°è¿è¡Œä½œä¸š<br>
<code>scontrol top job_list</code>æœ€ä¼˜å…ˆç­‰å¾…è¿è¡Œä½œä¸š<br>
<code>scontrol wait_job job_id</code>ç­‰å¾…æŸä¸ªä½œä¸šè¿è¡Œå®Œï¼Œä¸€èˆ¬åœ¨è„šæœ¬ä¸­ä½¿ç”¨<br>
<code>scontrol update SPECIFICATION</code>æ›´æ–°ä½œä¸šä¿¡æ¯<br>
<code>SPECIFICATION</code>æ ¼å¼ä¸º<code>scontaol show job</code>æ˜¾ç¤ºå‡ºçš„ï¼Œå¦‚ä¸‹é¢å‘½ä»¤å°†æ›´æ–°ä½œä¸šå·ä¸º7çš„ä½œä¸šå<br>
<code>scontrol update JobId=7 JobName=NewJobName</code>ä¸ºNewJobName<br>
å‚è€ƒåœ°å€ï¼š<br>
<a href="http://bbs.keinsci.com/thread-32750-1-1.html">Ubuntu20.04 å®‰è£…å•æœºslurmæ•™ç¨‹</a><br>
<a href="https://zhuanlan.zhihu.com/p/356415669">Slurm ä½œä¸šè°ƒåº¦ç³»ç»Ÿä½¿ç”¨æŒ‡å—</a><br>
<a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;id=28&amp;no=1001256">ç™¾åº¦-å¾®ä¿¡æ·»åŠ QQé‚®ç®±æé†’</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ubuntu 20.04 LTSå®‰è£…Dockerä»¥åŠQuantum Espresso-GNUç‰ˆæœ¬]]></title>
        <id>https://lisonglin-xidian.github.io/post/ubuntu-2004-lts-an-zhuang-docker-yi-ji-quantum-espresso-gnu-ban-ben/</id>
        <link href="https://lisonglin-xidian.github.io/post/ubuntu-2004-lts-an-zhuang-docker-yi-ji-quantum-espresso-gnu-ban-ben/">
        </link>
        <updated>2022-09-05T07:54:37.000Z</updated>
        <summary type="html"><![CDATA[<p>ä½¿ç”¨Dockerä¸€é”®å®‰è£…æ”¯æŒGPUçš„Quantum Espresso</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä½¿ç”¨Dockerä¸€é”®å®‰è£…æ”¯æŒGPUçš„Quantum Espresso</p>
<!-- more -->
<h1 id="åœ¨-ubuntu-ä¸Šå®‰è£…-docker-desktop">åœ¨ Ubuntu ä¸Šå®‰è£… Docker Desktop</h1>
<h2 id="å¸è½½å…¶ä»–ç‰ˆæœ¬docker">å¸è½½å…¶ä»–ç‰ˆæœ¬docker</h2>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://docs.docker.com/desktop/install/ubuntu/">åœ¨ Ubuntu ä¸Šå®‰è£… Docker Desktop</a>ã€‚</p>
<h2 id="å®‰è£…-docker-æ¡Œé¢">å®‰è£… Docker æ¡Œé¢</h2>
<p>è®¾ç½® Docker çš„åŒ…å­˜å‚¨åº“ã€‚å‚è€ƒé“¾æ¥ï¼š<a href="https://docs.docker.com/engine/install/ubuntu/#set-up-the-repository">Install using the repository: Set up the repository</a><br>
éªŒè¯å®‰è£…   <code> sudo docker run hello-world</code></p>
<h2 id="æ™®é€šç”¨æˆ·å¯åŠ¨é—®é¢˜">æ™®é€šç”¨æˆ·å¯åŠ¨é—®é¢˜ï¼š</h2>
<p><a href="https://blog.csdn.net/Nick_666/article/details/80972332">å‚è€ƒåœ°å€1</a></p>
<pre><code>[root@localhost ~]# groupadd docker
[root@localhost ~]# groups
root
[root@localhost ~]# usermod -a -G docker simon 
[root@localhost ~]# grep docker /etc/group
dockerroot:x:994:
docker:x:1001:simon
[root@localhost ~]# service docker restart
Redirecting to /bin/systemctl restart docker.service
[root@localhost ~]# sudo simon
[simon@localhost ~]$ docker image ls
</code></pre>
<p><a href="https://cloud.tencent.com/developer/article/1912506">å‚è€ƒåœ°å€2</a></p>
<pre><code>æŠŠæ™®é€šç”¨æˆ·åŠ å…¥åˆ°dockerç»„ä¸­ 
è¿™é‡Œçš„æ™®é€šç”¨æˆ·æ˜¯hualiï¼Œç»„dockeråœ¨å®‰è£…dockerçš„æ—¶å€™ï¼Œå°±å·²ç»æ·»åŠ äº†ï¼Œæ‰€ä»¥åªéœ€è¦æ‰§è¡Œä¸¤ä¸ªæ“ä½œå³å¯ï¼š
# sudo gpasswd -a $USER docker 
# newgrp docker
å°†hualiç”¨æˆ·åŠ å…¥dockerç»„ä¹‹åï¼Œå‘ç°ä½¿ç”¨docker psæˆ–è€…docker imagesä¸ä¼šæç¤ºæƒé™ä¸è¶³äº†ã€‚
</code></pre>
<h1 id="nvidia-docker-å®‰è£…">nvidia-docker å®‰è£…</h1>
<p>nvidia-dockerå®‰è£…å‚è€ƒé“¾æ¥ï¼š<a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker"> nvidia-dockerå®‰è£…æŒ‡å—</a><br>
è®¾ç½®é»˜è®¤è¿è¡Œæ—¶åï¼Œé‡æ–°å¯åŠ¨ Docker å®ˆæŠ¤ç¨‹åºä»¥å®Œæˆå®‰è£…ï¼š<br>
<code>sudo systemctl restart docker</code><br>
æ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡è¿è¡ŒåŸºæœ¬ CUDA å®¹å™¨æ¥æµ‹è¯•å·¥ä½œè®¾ç½®ï¼š<br>
<code>sudo docker run --rm --gpus all nvidia/cuda:11.0.3-base-ubuntu20.04 nvidia-smi</code></p>
<h1 id="docker-æ‹‰å–é•œåƒé€Ÿåº¦æ…¢æ€ä¹ˆç ´">Docker æ‹‰å–é•œåƒé€Ÿåº¦æ…¢æ€ä¹ˆç ´ï¼Ÿ</h1>
<p>ä¿®æ”¹Dockeré•œåƒæœåŠ¡å™¨</p>
<ol>
<li>ç¼–è¾‘ /etc/docker/daemon.json é…ç½®æ–‡ä»¶</li>
</ol>
<pre><code>åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•
$ sudo mkdir /etc/docker
ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä»¥ä¸‹å‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºã€‚
$ sudo nano /etc/docker/daemon.json
å°†é…ç½®ä¿¡æ¯ç²˜è´´åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®ä¿¡æ¯ä¸º json æ ¼å¼ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦è®¾ç½®å¤šä¸ªå›½å†…çš„é•œåƒæœåŠ¡å™¨ã€‚(ç¬¬ä¸€ä¸ªä¸ºå›½å†…é•œåƒåœ°å€ï¼›ç¬¬äºŒä¸ªå¤§æ‹¬å·å†…æ—¶NVIDIA-dockeré…ç½®)
{
      &quot;registry-mirrors&quot;: [
                    &quot;https://fy707np5.mirror.aliyuncs.com&quot;,
                    &quot;https://docker.mirrors.ustc.edu.cn&quot;,
                    &quot;https://hub-mirror.c.163.com&quot;,
                    &quot;https://mirror.baidubce.com&quot;,
                    &quot;https://yxzrazem.mirror.aliyuncs.com&quot;
            ]
},
{   &quot;runtimes&quot;: {
        &quot;nvidia&quot;: {
            &quot;path&quot;: &quot;nvidia-container-runtime&quot;,
            &quot;runtimeArgs&quot;: []
        }
    }
}
</code></pre>
<ol start="2">
<li>é‡æ–°åŠ è½½å¹¶é‡å¯ Docker æœåŠ¡</li>
</ol>
<pre><code>sudo systemctl daemon-reload 
sudo systemctl restart docker
</code></pre>
<ol start="3">
<li>æ£€æŸ¥è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ</li>
</ol>
<pre><code>sudo docker info
ç»“æœä¸­æ˜¾ç¤ºäº†æˆ‘ä»¬è®¾ç½®çš„é•œåƒæœåŠ¡å™¨åœ°å€ï¼Œåˆ™è¯´æ˜è®¾ç½®å·²ç»ç”Ÿæ•ˆï¼Œè¿”å›çš„ä¿¡æ¯ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š
 Registry Mirrors:
  https://fy707np5.mirror.aliyuncs.com/
  https://docker.mirrors.ustc.edu.cn/
  https://hub-mirror.c.163.com/
  https://mirror.baidubce.com/
  https://yxzrazem.mirror.aliyuncs.com/
</code></pre>
<h1 id="quantum-espressoå®‰è£…">Quantum ESPRESSOå®‰è£…</h1>
<p>æ ¹æ®<a href="https://catalog.ngc.nvidia.com/orgs/hpc/containers/quantum_espresso">Quantum ESPRESSO-NGCå®‰è£…</a>æ“ä½œã€‚<br>
æ³¨æ„ï¼š<code>export QE_TAG={TAG}</code>å¯¹Quantum Espressoçš„ç‰ˆæœ¬è¿›è¡ŒæŒ‡å®š</p>
<h1 id="quantum-espressoè„šæœ¬">Quantum ESPRESSOè„šæœ¬</h1>
<p>QEtoolkit-2.sh å¯ä»¥å®ç°å¿«é€Ÿç”ŸæˆQEè¾“å…¥æ–‡ä»¶ï¼Œéœ€è¦å®‰è£…Multiwfnï¼Œ<a href="http://sobereva.com/multiwfn/">Multiwfnä¸‹è½½é“¾æ¥</a><br>
Quantum ESPRSSOè¾“å…¥æ–‡ä»¶<a href="https://www.materialscloud.org/work/tools/qeinputgenerator?structure=tmprcavxfbm.xsf-ase">åœ¨çº¿ç”Ÿæˆé“¾æ¥</a><br>
pwguiå¯ä»¥ç”Ÿæˆè¾“å…¥æ–‡ä»¶ä»¥åŠå¯è§†åŒ–pw.xè¾“å…¥è¾“å‡ºæ–‡ä»¶ä¸­çš„åŸå­ç»“æ„ï¼š<a href="http://www-k3.ijs.si/kokalj/pwgui/">ä¸‹è½½é“¾æ¥</a><br>
XCrySDenæ˜¯ä¸€ä¸ªæ™¶ä½“å’Œåˆ†å­ç»“æ„å¯è§†åŒ–ç¨‹åºï¼Œæ—¨åœ¨æ˜¾ç¤ºç­‰å€¼é¢å’Œè½®å»“ï¼Œå¯ä»¥å åŠ åœ¨æ™¶ä½“ç»“æ„ä¸Šï¼Œå¹¶ä»¥äº¤äº’æ–¹å¼æ—‹è½¬å’Œæ“çºµã€‚<a href="http://www.xcrysden.org/">ä¸‹è½½é“¾æ¥</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŠ å¯†æ–‡ç« æµ‹è¯•]]></title>
        <id>https://lisonglin-xidian.github.io/post/jia-mi-wen-zhang-ce-shi/</id>
        <link href="https://lisonglin-xidian.github.io/post/jia-mi-wen-zhang-ce-shi/">
        </link>
        <updated>2022-07-20T03:01:06.000Z</updated>
        <summary type="html"><![CDATA[<p>åŠ å¯†æµ‹è¯•ï¼š</p>
]]></summary>
        <content type="html"><![CDATA[<p>åŠ å¯†æµ‹è¯•ï¼š</p>
<!-- more -->
<script language = JavaScript>
 function password() {
    var testV = 1;
    var pass1 = prompt('please input the password','');
    var passwordforthisarticle = "123";
    var inputtimemax = 19960319;
    while (testV < inputtimemax) {
    if (!pass1)
    history.go(-1);
    if (pass1 == passwordforthisarticle) {
    break;
    }
    testV+=1;
    var pass1 =
    prompt('Password error!');
    }
    if (pass1!= passwordforthisarticle & testV == inputtimemax)  
    history.go(-1);
    return " ";
    }
    document.write(password());
</script>
<p>ç»™ä½ çœ‹è§äº†~~<br>
è¿›é˜¶å¯†ç ï¼š<a href="http://www.jshaman.com/#free">jshaman</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MCCCå®éªŒå®¤è¿œç¨‹ä½¿ç”¨æœåŠ¡å™¨]]></title>
        <id>https://lisonglin-xidian.github.io/post/mccc-shi-yan-shi-yuan-cheng-shi-yong-fu-wu-qi/</id>
        <link href="https://lisonglin-xidian.github.io/post/mccc-shi-yan-shi-yuan-cheng-shi-yong-fu-wu-qi/">
        </link>
        <updated>2022-07-14T02:08:24.000Z</updated>
        <summary type="html"><![CDATA[<p>æ–¹å¼1ï¼šå®‰è£…Zerotieråˆ†é…IPå¹¶è¿œç¨‹è¿æ¥ï¼Œå†…ç½‘ç©¿é€ä¸çŸ¥é“å…¬ç½‘IPä¹Ÿå¯ä»¥å®ç°å¼‚åœ°è¿æ¥<br>
æ–¹å¼2ï¼šé€šè¿‡ddnsæœåŠ¡å™¨cloudflareæ›´æ–°è®¾å¤‡IPåœ°å€åˆ°å›ºå®šåŸŸåï¼ˆè‡ªåŠ¨æ›´æ–°DNSè§£æåˆ°æœ¬æœºIPåœ°å€ï¼‰æ²¡æœ‰å…¬ç½‘IPåœ°å€çš„è¯åªæ”¯æŒå†…ç½‘ä½¿ç”¨</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ–¹å¼1ï¼šå®‰è£…Zerotieråˆ†é…IPå¹¶è¿œç¨‹è¿æ¥ï¼Œå†…ç½‘ç©¿é€ä¸çŸ¥é“å…¬ç½‘IPä¹Ÿå¯ä»¥å®ç°å¼‚åœ°è¿æ¥<br>
æ–¹å¼2ï¼šé€šè¿‡ddnsæœåŠ¡å™¨cloudflareæ›´æ–°è®¾å¤‡IPåœ°å€åˆ°å›ºå®šåŸŸåï¼ˆè‡ªåŠ¨æ›´æ–°DNSè§£æåˆ°æœ¬æœºIPåœ°å€ï¼‰æ²¡æœ‰å…¬ç½‘IPåœ°å€çš„è¯åªæ”¯æŒå†…ç½‘ä½¿ç”¨</p>
<!-- more -->
<h1 id="æ–¹å¼1-zerotier">æ–¹å¼1-zerotier</h1>
<h2 id="11-windows">1.1 Windows:</h2>
<p>åŒå‡»ZeroTier One.msiå®‰è£…ï¼Œ<a href="https://www.zerotier.com/">å®˜ç½‘</a>ä»¥åŠ<a href="https://download.zerotier.com/dist/ZeroTier%20One.msi">å®‰è£…åŒ…ä¸‹è½½</a></p>
<h2 id="12-linux">1.2 Linux</h2>
<p>ä¸‹è½½ZeroTier Oneå¹¶å®‰è£…<br>
<code>curl -s https://install.zerotier.com | sudo bash</code></p>
<h2 id="13-æ·»åŠ ç½‘ç»œ">1.3 æ·»åŠ ç½‘ç»œ</h2>
<h3 id="131windows-æ–¹å¼1">1.3.1Windows-æ–¹å¼1</h3>
<ol>
<li>å³é”®å•å‡»å¤åˆ¶My address</li>
<li>å°†10ä½åœ°å€å‘é€ç»™ç®¡ç†å‘˜å¹¶ç­‰å¾…ç®¡ç†å‘˜é€šè¿‡</li>
</ol>
<h3 id="132windows-æ–¹å¼2">1.3.2Windows-æ–¹å¼2</h3>
<ol>
<li>å³é”®ç„¶åç‚¹å‡»Join Network</li>
<li>è¾“å…¥å·ç <code>a0cbf4b62a3bd002</code></li>
<li>å•å‡»joinå®Œæˆå¹¶ç­‰å¾…ç®¡ç†å‘˜é€šè¿‡</li>
</ol>
<h3 id="133linux">1.3.3Linux</h3>
<p>ç»ˆç«¯è¾“å…¥ï¼š<br>
<code>sudo zerotier-cli join a0cbf4b62a3bd002</code></p>
<h2 id="14è¿æ¥ä½¿ç”¨">1.4è¿æ¥ä½¿ç”¨</h2>
<p>ç­‰å¾…ipåˆ†é…å®Œæˆåï¼Œubuntuï¼ˆ8370Cx2+3090Tix2ï¼‰æœåŠ¡å™¨é€šè¿‡sshè¿æ¥ï¼Œwindowsï¼ˆ5218x2+2080Tix5ï¼‰server 2019é€šè¿‡è¿œç¨‹æ¡Œé¢è¿æ¥ã€‚</p>
<h2 id="15è¿æ¥è½¯ä»¶">1.5è¿æ¥è½¯ä»¶</h2>
<p>ubuntuè¿œç¨‹ç”¨çš„SSHè¿æ¥ï¼š<a href="https://mobaxterm.mobatek.net/">mobaxterm</a>å®˜ç½‘ï¼Œä»¥åŠ<a href="https://mobaxterm.mobatek.net/download-home-edition.html">ä¸‹è½½</a>ã€‚</p>
<h1 id="æ–¹å¼2-ddns">æ–¹å¼2-DDNS</h1>
<p>å‰æœŸå‡†å¤‡ï¼šfreenomæˆ–è€…å…¶ä»–åœ°æ–¹æ³¨å†Œçš„åŸŸåï¼›æ³¨å†ŒCloudflareç”¨æ¥è§£æåŸŸååˆ°å…·ä½“IPåœ°å€</p>
<h2 id="21windowsæœåŠ¡å™¨ç«¯-è¢«æ§åˆ¶ç«¯">2.1Windowsï¼ˆæœåŠ¡å™¨ç«¯ã€è¢«æ§åˆ¶ç«¯ï¼‰</h2>
<h3 id="ä¸‹è½½ddnsexe-configjson-create-taskbatåˆ°æœ¬åœ°æ–‡ä»¶å¤¹">ä¸‹è½½ddns.exeã€config.jsonã€create-task.batåˆ°æœ¬åœ°æ–‡ä»¶å¤¹</h3>
<p><a href="https://github.com/LiSonglin-xidian/DDNS">å•å‡»ä¸‹è½½</a><br>
ddns.exeä¸ºäºŒè¿›åˆ¶ç‰ˆæ–‡ä»¶å…¶ä»–æ–¹å¼æœªæµ‹è¯•<br>
æ ¹æ®è¯¦ç»†é…ç½®ä¿®æ”¹config.jsonæ–‡ä»¶ä¸ºï¼ˆå…¶ä¸­index4ä¸ºåªæ›´æ–°åç§°ä¸º10.170.èµ·å§‹çš„IPåœ°å€åˆ°cloudflareåŸŸåï¼‰</p>
<pre><code>{
    &quot;id&quot;: &quot;cloudflareç™»é™†é‚®ç®±&quot;,
    &quot;token&quot;: &quot;cloudflareäº§ç”Ÿçš„ç§˜é’¥&quot;,
    &quot;dns&quot;: &quot;cloudflare&quot;,
    &quot;ipv4&quot;: [&quot;cloudflareä¸­çš„å‰ç½®ä¿¡æ¯.freenomç”³è¯·çš„åŸŸå&quot;],
    &quot;index4&quot;: &quot;regex:10.170.*&quot;,
    &quot;proxy&quot;: &quot;DIRECT&quot;,
    &quot;debug&quot;: false
  }
</code></pre>
<p>create-task.batä¸ºåˆ›å»ºwindowså®šæ—¶ä»»åŠ¡</p>
<h3 id="è°ƒè¯•æµ‹è¯•è¿‡ç¨‹">è°ƒè¯•æµ‹è¯•è¿‡ç¨‹ï¼š</h3>
<p>1.åœ¨è„šæœ¬çš„å½“å‰æ–‡ä»¶å¤¹ä¸‹è¿è¡Œcmd<br>
2.åœ¨cmdçª—å£ä¸­è¿è¡Œ./ddns.exe -c config.json<br>
3.æŸ¥çœ‹æœåŠ¡å™¨ç«¯æ˜¯å¦äº§ç”Ÿrun.logæ–‡ä»¶<br>
4.æ§åˆ¶ç«¯ä½¿ç”¨cmdï¼Œå¯¹åŸŸåè¿›è¡Œpingæµ‹è¯•<br>
5.æµ‹è¯•å®ŒæˆåŒå‡»è¿è¡Œcreate-task.batè„šæœ¬æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¨èå³é”®ä½¿ç”¨ç®¡ç†å‘˜æ–¹å¼è¿è¡Œå¦åˆ™ä¼šæœ‰cmdå¼¹çª—ï¼‰</p>
<h2 id="22linuxè¢«æ§åˆ¶ç«¯æœåŠ¡å™¨ç«¯">2.2linux(è¢«æ§åˆ¶ç«¯ï¼ŒæœåŠ¡å™¨ç«¯)</h2>
<h3 id="ä¸‹è½½ddns-create-tasksh-configjsonæ–‡ä»¶">ä¸‹è½½ddnsã€create-task.shã€config.jsonæ–‡ä»¶</h3>
<p><a href="https://github.com/LiSonglin-xidian/DDNS">å•å‡»ä¸‹è½½</a><br>
config.jsoné…ç½®å’Œwindowsç›¸åŒ<br>
ddnsä¸ºäºŒè¿›åˆ¶ç‰ˆæ–‡ä»¶å…¶ä»–æ–¹å¼æœªæµ‹è¯•<br>
create-task.shä¸ºåˆ›å»ºUbuntuå®šæ—¶ä»»åŠ¡</p>
<h3 id="è°ƒè¯•æµ‹è¯•è¿‡ç¨‹-2">è°ƒè¯•æµ‹è¯•è¿‡ç¨‹ï¼š</h3>
<p>1.åœ¨ddnsè„šæœ¬çš„å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ç»ˆç«¯<br>
2.åœ¨ç»ˆç«¯ä¸­è¿è¡Œ./ddns -c config.json<br>
3.æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹æ˜¯å¦äº§ç”Ÿrun.logæ–‡ä»¶<br>
4.æ§åˆ¶ç«¯ä½¿ç”¨cmdç­‰å¯¹åŸŸåè¿›è¡Œpingæµ‹è¯•<br>
5.å½“å‰ç”¨æˆ·è¿è¡Œbash create-task.sh  æˆ–è€…rootè¿è¡Œï¼šsudo bash create-task.sh<br>
å¦‚æœæ²¡æœ‰æƒé™ä½¿ç”¨chmod a+x create-task.shåè¿è¡Œ</p>
<h2 id="23å®šæ—¶æ¸…ç†æœ¬åœ°dnsç¼“å­˜æœ¬æœºæ§åˆ¶ç«¯">2.3å®šæ—¶æ¸…ç†æœ¬åœ°DNSç¼“å­˜ï¼ˆæœ¬æœºï¼Œæ§åˆ¶ç«¯ï¼‰</h2>
<h3 id="æ–¹å¼1ä¸‹è½½create-task-clean-dnsbatåˆ°æœ¬åœ°æ–‡ä»¶å¤¹">æ–¹å¼1ï¼šä¸‹è½½create-task-clean-dns.batåˆ°æœ¬åœ°æ–‡ä»¶å¤¹</h3>
<p>åŒå‡»create-task-clean-dns.batåˆ›å»ºå®šæ—¶æ¸…ç†dnsç¼“å­˜å‘½ä»¤ï¼Œå¦åˆ™å½“ipåœ°å€åœ¨æœ¬åœ°ä¸ä¼šæ›´æ–°ping åŸŸååªä¼šåˆ°ç¼“å­˜çš„dnsçš„IPåœ°å€ä¸Šã€‚</p>
<h3 id="æ–¹å¼2-cmdçª—å£è¿è¡Œå‘½ä»¤">æ–¹å¼2: cmdçª—å£è¿è¡Œå‘½ä»¤</h3>
<p>å‘½ä»¤ï¼š<code>ipconfig /flushdns</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ–°å»ºubuntuç”¨æˆ·+SSHå¯†ç è¿æ¥]]></title>
        <id>https://lisonglin-xidian.github.io/post/ssh-mi-ma-lian-jie/</id>
        <link href="https://lisonglin-xidian.github.io/post/ssh-mi-ma-lian-jie/">
        </link>
        <updated>2022-07-11T13:30:23.000Z</updated>
        <summary type="html"><![CDATA[<p>æ–°ç”¨æˆ·ä»¥åŠæ·»åŠ SSHè¿æ¥</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ–°ç”¨æˆ·ä»¥åŠæ·»åŠ SSHè¿æ¥</p>
<!-- more -->
<p>1.<a href="https://blog.csdn.net/u013187057/article/details/80533249">æ·»åŠ æ–°ç”¨æˆ·</a><br>
<code>adduser xxx</code><br>
è®¾ç½®å¯†ç ç­‰ä¿¡æ¯<br>
<code>su xxx</code><br>
åˆ‡æ¢åˆ°xxxç”¨æˆ·<br>
ç»™ç”¨æˆ·æ·»åŠ sudoæƒé™ï¼š<br>
<code>sudo usermod -a -G sudo xxx</code>ï¼ˆxxxä¸ºæ–°æ·»åŠ çš„ç”¨æˆ·åï¼‰<br>
ä¿®æ”¹åçš„ç»“æœå¯ä»¥æŸ¥çœ‹/etc/groupï¼Œå¯ä»¥çœ‹åˆ°sudoè¿™ä¸€æ ä¸­åŒ…å«xxx<br>
ç”¨æˆ·åˆ é™¤sudoæƒé™<br>
<code>sudo deluser xxx sudo</code></p>
<p>2.æ·»åŠ sshè¿æ¥<br>
ä¿®æ”¹é…ç½®æ–‡ä»¶/etc/ssh/sshd_config<br>
<code>sudo vim /etc/ssh/sshd_config</code><br>
æœ«å°¾æ·»åŠ <code>AllowUsers master@192.168.0.1 user1 user2 user3 user4 user5</code><br>
é‡å¯ssh<br>
<code>sudo service sshd restart</code><br>
é€šè¿‡å¸¸ç”¨sshå·¥å…·è¿›è¡Œè¿æ¥ä½¿ç”¨ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Gridea-Markdownå­—ä½“é¢œè‰²]]></title>
        <id>https://lisonglin-xidian.github.io/post/gridea-markdown-zi-ti-yan-se/</id>
        <link href="https://lisonglin-xidian.github.io/post/gridea-markdown-zi-ti-yan-se/">
        </link>
        <updated>2022-06-17T14:04:00.000Z</updated>
        <summary type="html"><![CDATA[<p>æ–‡æœ¬é¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯é¢œè‰²ç­‰ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ–‡æœ¬é¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯é¢œè‰²ç­‰ã€‚</p>
<!-- more -->
<pre><code>&lt;font face=&quot;å¾®è½¯é›…é»‘&quot; &gt;å¾®è½¯é›…é»‘-æƒ³ä¸æƒ³è¯¥ä¸è¯¥&lt;/font&gt;
&lt;font face=&quot;é»‘ä½“&quot; &gt;é»‘ä½“-æƒ³ä¸æƒ³è¯¥ä¸è¯¥&lt;/font&gt;
&lt;font size=3 &gt;3å·å­—&lt;/font&gt;
&lt;font size=4 &gt;4å·å­—&lt;/font&gt;
&lt;font color=#FF0000 &gt;çº¢è‰²&lt;/font&gt;
&lt;font color=#008000 &gt;ç»¿è‰²&lt;/font&gt;
&lt;font color=#0000FF &gt;è“è‰²&lt;/font&gt;
</code></pre>
<p><font face="å¾®è½¯é›…é»‘" >å¾®è½¯é›…é»‘-æƒ³ä¸æƒ³è¯¥ä¸è¯¥</font><br>
<font face="é»‘ä½“" >é»‘ä½“-æƒ³ä¸æƒ³è¯¥ä¸è¯¥</font><br>
<font size=3 >3å·å­—</font><br>
<font size=4 >4å·å­—</font><br>
<font color=#FF0000 >çº¢è‰²</font><br>
<font color=#008000 >ç»¿è‰²</font><br>
<font color=#0000FF >è“è‰²</font></p>
<p>è®¾ç½®å­—ä½“ä¸ºå¾®è½¯é›…é»‘ï¼›å­—å·ä¸º6ï¼›é¢œè‰²ä¸ºçº¢è‰²ï¼›å†…å®¹ä¸ºå¾®è½¯é›…é»‘å­—ä½“<br>
<code>&lt;font face=&quot;å¾®è½¯é›…é»‘&quot; size=6 color=#FF0000 &gt;å¾®è½¯é›…é»‘å­—ä½“&lt;/font&gt;</code><br>
<font face="å¾®è½¯é›…é»‘" size=6 color=#FF0000 >å¾®è½¯é›…é»‘å­—ä½“</font></p>
<pre><code>
å€ŸåŠ© table, tr, td ç­‰è¡¨æ ¼æ ‡ç­¾çš„ bgcolor å±æ€§æ¥å®ç°èƒŒæ™¯è‰²çš„åŠŸèƒ½ã€‚
&lt;table&gt;&lt;tr&gt;&lt;td bgcolor=orange&gt; èƒŒæ™¯è‰²æ˜¯ 1 orange&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;table&gt;&lt;tr&gt;&lt;td bgcolor= BlueViolet &gt; èƒŒæ™¯è‰²2 BlueViolet &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
</code></pre>
<table><tr><td bgcolor=orange> èƒŒæ™¯è‰²æ˜¯ 1 orange</td></tr></table>
<table><tr><td bgcolor= BlueViolet > èƒŒæ™¯è‰²2 BlueViolet </td></tr></table>
]]></content>
    </entry>
</feed>